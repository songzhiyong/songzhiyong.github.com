
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Art thou weary, tender heart?  | Faith, Hope, Charity</title>

<meta name="author" content="Jerome Song"> 

<meta name="description" content="Keen on the information technology."> <meta name="keywords" content="android , java , ruby , linux , software , programming , web development ,ubuntu">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<link href="/atom.xml" rel="alternate" title="Faith, Hope, Charity" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	
  	<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
	<nav id="home-nav">
    	<ul>
        	<li>
         		 <a href="/">
           	 	<span class="icon-home"></span>
           	 	<span class="screen-reader-text">Home</span>
         		 </a>
      		</li>
       </ul>
	</nav>​
	<header id="header" class="inner"><h1><a href="/">Faith, Hope, Charity</a></h1>
<h4>Art thou weary, tender heart?</h4>
<nav id="main-nav"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:1vn.wang">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/26/mac-os-x-efficiency-improvement-1/">
		
			Mac OS X Efficiency Improvement (1)</a>
	</h2>
	<div class="entry-content">
		<p>怀念 Windows 系统的 Win+D, Win+R, 或许是自己还没习惯 Mac OS, 还要继续修炼.</p>

<hr />

<p><strong>Command+Option+M</strong></p>

<p>可以实现快速最小化当前应用程序所有窗口的目的。比如你想一下子最小化多个 Finder 窗口，就可以用该快捷键。</p>

<p><strong>Command+H</strong><br></p>

<p>可以实现快速隐藏当前应用程序所有窗口的目的</p>

<p><strong>Command+Option+H</strong><br></p>

<p>可以实现快速隐藏除当前应用程序之外所有程序窗口的目的<br></p>

<p><strong>Command+Option+M+H</strong><br></p>

<p>可以实现快速隐藏所有应用程序窗口的目的(按四个键，表示很不舒服)<br></p>

<hr />

<p>至于「系统偏好设置——通用」中勾选”连按窗口的标题栏以将窗口最小化”，然后双击窗口标题栏就可以最小化当前窗口。
这个就更不好改了，跟 windows 正好相反。<br></p>

<p>Mac 上的 CheatSheet(<a href="http://www.mediaatelier.com/CheatSheet/">http://www.mediaatelier.com/CheatSheet/</a>)还是很好用的。</p>

<p>Practice makes Perfect!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-26T23:43:00+08:00" pubdate data-updated="true">Jun 26<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


	
		<span class="comments"><a href="/blog/2014/06/26/mac-os-x-efficiency-improvement-1//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/23/dreamer/">
		
			Dreamer</a>
	</h2>
	<div class="entry-content">
		<p><img src="/images/2014/06/lost.jpg" title="just-done" alt="" /><br/></p>

<p>Seasons, my friend<br>
Color me, so we can blend<br>
Forbid me to go<br>
I know so little about the wind when it blows<br>
Dreamer, dreamer<br>
Im walking out of your dream<br>
Take me off that parade<br>
And place me somewhere<br>
In your sense of a shades<br>
Your night shuts my door<br>
And I will not dream anymore<br>
See if I can pass by that waiting hand<br>
If I can pass by that wandering man<br>
If I can leave to get on<br>
See that it all makes sense pretty soon<br>
Dreamer, dreamer<br>
Im walking out, while you go on<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
I&rsquo;ll be where I belong<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Im walking out, while you go on<br>
Dreamer, dreamer<br>
But dreamers don&rsquo;t come along<br>
Dreamer, dreamer<br>
I&rsquo;ll be where I belong<br>
Dreamer, dreamer<br>
Stop me if I&rsquo;m wrong<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-23T23:47:00+08:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


	
		<span class="comments"><a href="/blog/2014/06/23/dreamer//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/23/redis-started/">
		
			Redis-started</a>
	</h2>
	<div class="entry-content">
		<h3>Redis installation</h3>

<h5>1)Download</h5>

<p>Go to the Redis Download page and find the latest stable version. Download it and unpack:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tar xzf redis-*
</span><span class='line'>cd redis-*</span></code></pre></td></tr></table></div></figure>


<h5>2)Compile</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>make
</span><span class='line'>sudo make install clean</span></code></pre></td></tr></table></div></figure>


<h5>3)Create config:</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir /etc/redis
</span><span class='line'>cp redis.conf /etc/redis/redis.conf</span></code></pre></td></tr></table></div></figure>


<h5>4)Start server &amp; Connect</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>redis-server /etc/redis/redis.conf
</span><span class='line'>
</span><span class='line'>redis-cli</span></code></pre></td></tr></table></div></figure>


<h3>PhpRedis Installation</h3>

<h5>1) Preparation</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install php5-dev</span></code></pre></td></tr></table></div></figure>


<p>php5-dev provides the dev library as well as the phpize command which is required for the compiling step, if you dont install this package, you would got this error message when you start your step 2:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>No command 'phpize' found, did you mean:
</span><span class='line'> Command 'phpize5' from package 'php5-dev' (main)
</span><span class='line'>phpize: command not found</span></code></pre></td></tr></table></div></figure>


<h5>2) Get phpredis source code, should be pretty easy by running</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/nicolasff/phpredis.git</span></code></pre></td></tr></table></div></figure>


<h5>3) Compile and install</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd phpredis
</span><span class='line'>phpize
</span><span class='line'>./configure
</span><span class='line'>make
</span><span class='line'>sudo -s make install</span></code></pre></td></tr></table></div></figure>


<h5>4) Enable the phpredis extension</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo "extension=redis.so"&gt;/etc/php5/conf.d/redis.ini</span></code></pre></td></tr></table></div></figure>


<p>for ubuntu PHP5.5, you should create copy this file into</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/php5/mods-available</span></code></pre></td></tr></table></div></figure>


<h5>5) Write a simple php script to test (running on cli would be fine if php5-cli is installed)</h5>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="cp">&lt;?php</span>
</span><span class='line'>        <span class="c1">// phpredis_set.php</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">=</span><span class="k">new</span> <span class="nx">Redis</span><span class="p">()</span> <span class="k">or</span> <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Can&#39;f load redis module.&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span><span class="mi">6379</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>you can check phpredis with command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x"> php -r &quot;if (new Redis()==true){echo \&quot;Redis is ready!\&quot;}&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Prior to try phpredis I was using Rediska as the php redis client. I did some pretty quick and dirty benchmarking comparison and phpredis is clearly a winner here, not surprisingly because phpredis is a compiled extension written in C while Rediska is a pure php library.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">time for i in `seq 1 1000`; do php phpredis_set.php; done</span>
</span></code></pre></td></tr></table></div></figure>


<p>real 0m13.072s
user 0m6.560s
sys 0m3.620s</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">time for i in `seq 1 1000`; do php rediska_set.php; done</span>
</span></code></pre></td></tr></table></div></figure>


<p>real 0m21.035s
user 0m12.150s
sys 0m5.050s</p>

<p>and the source code for rediska_set.php:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="cp">&lt;?php</span>
</span><span class='line'>        <span class="k">require_once</span> <span class="s1">&#39;Rediska/library/Rediska.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$rediska</span><span class="o">=</span><span class="k">new</span> <span class="nx">Rediska</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$rediska</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;set_testkey&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>Python-Redis installation</h3>

<h5>1)Install</h5>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo pip install redis</span>
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo easy_install redis</span>
</span></code></pre></td></tr></table></div></figure>


<p>or download the source and from source</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo python setup.py install</span>
</span></code></pre></td></tr></table></div></figure>


<h5>2)Getting started</h5>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">redis</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</span><span class='line'><span class="kc">True</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</span><span class='line'><span class="s1">&#39;bar&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><--unfinished--></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-23T23:41:00+08:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/redis/'>redis</a>

</div>


	
		<span class="comments"><a href="/blog/2014/06/23/redis-started//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/19/good-day-every-day/">
		
			Good Day, Every Day</a>
	</h2>
	<div class="entry-content">
		<p>Sometimes, we don&rsquo;t need to understand everything. We just need to have a little faith. For everything you have missed, you have gained something else; And for everything you gain, you lose something else. It&rsquo;s about your outlook towards your life. You can either regret or rejoice. But for the rainy and cloudy, we would not enjoy the blue sky and fresh air.<br><br>
<b>Just have a little faith! Then every day would be a good day!</b></p>

<hr><br>


<p><img src="/images/photos/2014-06-07%2013.45.28.jpg" alt="" /><br>
<img src="/images/photos/2014-06-01%2018.54.11.jpg" alt="" /><br></p>


		
		<a href="/blog/2014/06/19/good-day-every-day/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-19T21:49:00+08:00" pubdate data-updated="true">Jun 19<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


	
		<span class="comments"><a href="/blog/2014/06/19/good-day-every-day//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/02/i-want-my-tears-back/">
		
			I Want My Tears Back</a>
	</h2>
	<div class="entry-content">
		<p><img src="/images/2014/06/just-done.jpg" title="just-done" alt="" /><br/></p>

<p>I want my tears back<br/>
我要要回我的眼泪<br/>
The treetops, the chimneys, the snowbed stories, winter grey<br/>
树冠、烟囱、铺满雪的房屋、斑白的冬季<br/>
Wildflowers, those meadows of heaven, wind in the wheat<br/>
野花、那些天堂的草地、麦田里的风<br/>
A railroad across waters, the scent of grandfatherly love<br/>
一条跨越水域的铁路 祖父慈爱的味道<br/>
Blue bayous, Decembers, moon through a dragonfly&rsquo;s wings<br/>
蓝色的海湾 十二月里 月光穿越蜻蜓的翅膀<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where&rsquo;s dear Alice knocking on the door<br/>
那个敲门的爱丽丝在哪里<br/>
Where&rsquo;s the trapdoor that takes me there<br/>
那个带我到那得旋转门在哪里<br/>
Where&rsquo;s the real is shattered by a Mad Marsh Hare<br/>
在那里现实被疯狂的野兔所粉碎<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
I want my tears back<br/>
我要要回我的眼泪<br/>
I want my tears back now<br/>
我现在就要要回我的眼泪<br/>
A ballet on a grove, still growing young all alone<br/>
在段在片草丛上上演的芭蕾舞，仍然独自在变年轻<br/>
A rag doll, a best friend, the voice of Mary Costa<br/>
一个玩具娃娃，一位好友，玛丽·可思塔的声音<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where&rsquo;s dear Alice knocking on the door<br/>
那个敲门的爱丽丝在哪里<br/>
Where&rsquo;s the trapdoor that takes me there<br/>
那个带我到那得旋转门在哪里<br/>
Where&rsquo;s the real is shattered by a Mad Marsh Hare<br/>
在那里现实被疯狂的野兔所粉碎<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
I want my tears back<br/>
我要要回我的眼泪<br/>
I want my tears back now<br/>
我现在就要要回我的眼泪<br/></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-02T23:25:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


	
		<span class="comments"><a href="/blog/2014/06/02/i-want-my-tears-back//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/15/python-transfer-gps/">
		
			Python批量修改火星坐标</a>
	</h2>
	<div class="entry-content">
		<p>科普：火星坐标系统&ndash;国家保密插件，也叫做加密插件或者加偏或者 SM 模组，其实就是对真实坐标系统进行人为的加偏处理，按照几行代码的算法，将真实的坐标加密成虚假的坐标，而这个加偏并不是线性的加偏，所以各地的偏移情况都会有所不同。而加密后的坐标也常被人称为火星坐标系统。<br>
API：  <a href="http://api.zdoz.net/interfaces.aspx">http://api.zdoz.net/interfaces.aspx</a><br>
使用方法： 同目录下，from.txt 存放待转换 GPS 数据，经纬度以制表符分隔。<br>
输出：同目录下，生成 done.txt 为转换好的数据。<br></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span></span><span class="kn">import</span> <span class="nn">httplib</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">json</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">transGps</span><span class="p">(</span><span class="n">origin</span><span class="p">):</span>
</span><span class='line'>    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;api.zdoz.net&quot;</span>
</span><span class='line'>    <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/transgps.aspx?lat=&#39;</span><span class="o">+</span> <span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;&amp;lng=&#39;</span><span class="o">+</span><span class="n">origin</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>    <span class="n">h</span> <span class="o">=</span> <span class="n">httplib</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="n">host</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
</span><span class='line'>    <span class="n">h</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span class='line'>    <span class="n">transfered</span><span class="o">=</span><span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Lat&#39;</span><span class="p">)</span><span class="o">!=</span><span class="kc">None</span> <span class="p">:</span>
</span><span class='line'>        <span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Lat&#39;</span><span class="p">])</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Lng&#39;</span><span class="p">)</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
</span><span class='line'>        <span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Lng&#39;</span><span class="p">])</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">transfered</span>
</span><span class='line'>
</span><span class='line'><span class="n">inputFile</span> <span class="o">=</span> <span class="s1">&#39;from.txt&#39;</span>
</span><span class='line'><span class="n">outputFile</span> <span class="o">=</span> <span class="s1">&#39;done.txt&#39;</span>
</span><span class='line'><span class="n">fin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">inputFile</span><span class="p">,</span> <span class="s1">&#39;rU&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">fout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outputFile</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;lat</span><span class="se">\t</span><span class="s2">lng</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fin</span> <span class="p">:</span>
</span><span class='line'>    <span class="n">transfered</span> <span class="o">=</span> <span class="n">transGps</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">print</span> <span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class='line'>    <span class="nb">print</span> <span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s1">&#39;&#39;</span>
</span><span class='line'><span class="n">fin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span class='line'><span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-15T10:02:00+08:00" pubdate data-updated="true">Mar 15<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/python/'>python</a>

</div>


	
		<span class="comments"><a href="/blog/2014/03/15/python-transfer-gps//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/07/06/hello-world/">
		
			Hello World!</a>
	</h2>
	<div class="entry-content">
		<p><img src="/images/2013/07/hello_world.png" title="helloworld" alt="Hello World" /><br/></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-07-06T09:47:00+08:00" pubdate data-updated="true">Jul 6<span>th</span>, 2013</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/octopress/'>octopress</a>

</div>


	
		<span class="comments"><a href="/blog/2013/07/06/hello-world//blog/page/5/index.html#disqus_thread">Comments</a></span>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/4/" class="prev">Prev</a>
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2021

    Jerome Song

<br>
京ICP备18059042号 Powered by Octopress. </footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'ziso';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fbc6d82df32ac0c05b0381389f892f199' type='text/javascript'%3E%3C/script%3E"));
</script>


	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-52131984-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>

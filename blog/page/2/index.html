
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Art thou weary, tender heart?  | Faith, Hope, Charity</title>

<meta name="author" content="Jerome Song"> 

<meta name="description" content="Keen on the information technology."> <meta name="keywords" content="android , java , ruby , linux , software , programming , web development ,ubuntu">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<link href="/atom.xml" rel="alternate" title="Faith, Hope, Charity" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	
  	<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
	<nav id="home-nav">
    	<ul>
        	<li>
         		 <a href="/">
           	 	<span class="icon-home"></span>
           	 	<span class="screen-reader-text">Home</span>
         		 </a>
      		</li>
       </ul>
	</nav>​
	<header id="header" class="inner"><h1><a href="/">Faith, Hope, Charity</a></h1>
<h4>Art thou weary, tender heart?</h4>
<nav id="main-nav"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:1vn.wang">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/23/vim-tips/">
		
			Vim Tips</a>
	</h2>
	<div class="entry-content">
		<p>1）删除文字</p>

<ul>
<li><p>「x」：每按一次，删除光标所在位置的“后面”一个字符。</p></li>
<li><p>「#x」：例如，「6x」表示删除光标所在位置的“后面”6 个字符。</p></li>
<li><p>「X」：大写的 X，每按一次，删除光标所在位置的“前面”一个字符。</p></li>
<li><p>「#X」：例如，「20X」表示删除光标所在位置的“前面”20 个字符。</p></li>
<li><p>「dd」：删除光标所在行。</p></li>
<li><p>「#dd」：从光标所在行开始删除#行</p></li>
<li><p>「dG」：全部删除</p></li>
</ul>


<p>2）复制</p>

<ul>
<li><p>「yw」：将光标所在之处到字尾的字符复制到缓冲区中。</p></li>
<li><p>「#yw」：复制#个字到缓冲区</p></li>
<li><p>「yy」：复制光标所在行到缓冲区。</p></li>
<li><p>「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6 行文字。</p></li>
<li><p>「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。</p></li>
</ul>


<p>3）替换</p>

<ul>
<li><p>「r」：替换光标所在处的字符。</p></li>
<li><p>「R」：替换光标所到之处的字符，直到按下「ESC」键为止。</p></li>
</ul>


<p>4）回复上一次操作</p>

<ul>
<li>「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。 -</li>
</ul>


<p>5）跳至指定的行</p>

<ul>
<li><p>「ctrl」+「g」列出光标所在行的行号。</p></li>
<li><p>「#G」：例如，「15G」，表示移动光标至文章的第 15 行行首。</p></li>
</ul>


<hr />

<p>Last line mode 下命令简介</p>

<p>　　在使用「last line mode」之前，请记住先按「ESC」键确定您已经处于「command mode」下后，再按「：」冒号即可进入「last line mode」。</p>

<p>A) 列出行号</p>

<ul>
<li>「set nu」：输入「set nu」后，会在文件中的每一行前面列出行号。</li>
</ul>


<p>B) 跳到文件中的某一行</p>

<ul>
<li>「#」：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字 15，再回车，就会跳到文章的第 15 行。</li>
</ul>


<p>C) 查找字符</p>

<ul>
<li><p>「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止。</p></li>
<li><p>「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。</p></li>
</ul>


<p>D) 保存文件</p>

<ul>
<li>「w」：在冒号输入字母「w」就可以将文件保存起来。</li>
</ul>


<p>E) 离开 vi</p>

<ul>
<li><p>「q」：按「q」就是退出，如果无法离开 vi，可以在「q」后跟一个「!」强制离开 vi。</p></li>
<li><p>「qw」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件。
<br></p></li>
</ul>


<hr />

<ul>
<li>查看并编辑二进制文件</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:%!xxd </span></code></pre></td></tr></table></div></figure>


<p></p>

<ul>
<li>返回原文</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:%!xxd -r  </span></code></pre></td></tr></table></div></figure>


<ul>
<li>ctrl+f        在文件中前移一页（相当于 page down）；</li>
<li>ctrl+b        在文件中后移一页（相当于 page up）；</li>
<li>*          当光标停留在一个单词上，* 键会在文件内搜索该单词，并跳转到下一处；</li>
<li>#          当光标停留在一个单词上，# 在文件内搜索该单词，并跳转到上一处；</li>
<li>( / )        移动到 前/后 句的开始；</li>
<li>{ / }        跳转到 当 前/下一个 段落的开始。</li>
<li>g_         到本行最后一个不是 blank 字符的位置。</li>
<li>fa         到下一个为 a 的字符处，你也可以 fs 到下一个为 s 的字符。</li>
<li>t,         到逗号前的第一个字符。逗号可以变成其它字符。</li>
<li>3fa        在当前行查找第三个出现的 a。</li>
<li>F/T        和 f 和 t 一样，只不过是相反方向;</li>
<li>gg         将光标定位到文件第一行起始位置；</li>
<li>G          将光标定位到文件最后一行起始位置；</li>
<li>NG 或 Ngg    将光标定位到第 N 行的起始位置。</li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-09-23T11:53:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


	
		<span class="comments"><a href="/blog/2014/09/23/vim-tips//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/19/run-lint-in-android-studio/">
		
			Run Lint in Android Studio</a>
	</h2>
	<div class="entry-content">
		<p>Run lint in Android Studio</p>

<p>As I have just started learning Android developement, I was happy to see lint as such an integral part of the development process.</p>

<p>To runt lint and analyze your project, simply select <code>Analyze &gt; Inspect Code</code>.</p>

<p>In the popup window that appears, you can select the analysis scope, like which projects to analyze and which to skip. For my test project, I just chose to analyze everything and ended up with this nice summary:
<br/><br/>
<img src="/images/2014/09/inspect_code.png" title="inspect code" alt="" /><br/><br/></p>

<p>When you browse through the reported items, you will notice that many of them can just be ignored. For instance, spelling, which catches a lot of non-typos in strings. For instance, the project name, is reported as a typo. It also complains about invalid XML in generated files.</p>

<p>However, stuff like the items under Android lint and Declaration redundancy are highly interesting, and will be a great help for a newbie like me.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-09-19T10:52:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


	
		<span class="comments"><a href="/blog/2014/09/19/run-lint-in-android-studio//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/15/regex-in-sublime-text-2/">
		
			Regex in Sublime Text 2</a>
	</h2>
	<div class="entry-content">
		<ul>
<li>空行： ^[\s]*\n</li>
<li>偶数行：\n(.*)\n</li>
</ul>


<hr />

<p>&lsquo;CMD+SHIFT+W&rsquo;  close all without close the window</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-09-15T12:11:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


	
		<span class="comments"><a href="/blog/2014/09/15/regex-in-sublime-text-2//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/02/mysql-add-unique-index/">
		
			MySQL Add UNIQUE INDEX</a>
	</h2>
	<div class="entry-content">
		<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ALTER TABLE table ENGINE MyISAM;
</span><span class='line'>
</span><span class='line'>ALTER IGNORE TABLE table ADD UNIQUE INDEX(uid,name);
</span><span class='line'>
</span><span class='line'>ALTER TABLE table ENGINE InnoDB;</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-09-02T21:43:00+08:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/basic/'>basic</a>

</div>


	
		<span class="comments"><a href="/blog/2014/09/02/mysql-add-unique-index//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/23/android-r-dot-plurals-dot-name/">
		
			Android R.plurals.name</a>
	</h2>
	<div class="entry-content">
		<h3>Quantity Strings (Plurals)</h3>

<p>getQuantityString(int id, int quantity)
getQuantityString(int id, int quantity, Object&hellip; formatArgs)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;plurals name="search_results"&gt;
</span><span class='line'>    &lt;item quantity="one"&gt;%1$d result for \"%2$s\"&lt;/item&gt;
</span><span class='line'>    &lt;item quantity="other"&gt;%1$d results for \"%2$s\"&lt;/item&gt;
</span><span class='line'>&lt;/plurals&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//第一个参数 count 用于选择 xml 中选择那个 item
</span><span class='line'>//第二个参数用于插入占位符
</span><span class='line'>// 
</span><span class='line'>String resultHint = getResources().getQuantityString(R.plurals.search_results,                    count,new Object[] { count, query });
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-23T11:06:00+08:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2014</time></div>
	


	
		<span class="comments"><a href="/blog/2014/08/23/android-r-dot-plurals-dot-name//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/22/learn-english-5/">
		
			Learn English (5)</a>
	</h2>
	<div class="entry-content">
		<p><img src="/images/2014/08/co-sleeping-family-bed-leigh-pennebaker-baby.jpg" title="baby" alt="baby" /><br/></p>

<h3>睡觉起床</h3>

<ul>
<li>I’m going to bed for the night. Goodnight!
我要上床睡觉去了，晚安</li>
<li>Goodnight.
晚安。
-Goodnight, I’m going to sleep.
晚安，我要去睡觉了。</li>
<li>Sweet dreams.
做个好梦</li>
<li>I think I’ll take a nap.
我觉得我要睡一会儿。</li>
<li>I really need to relax and take a nap.
我真的需要休息睡一会儿。</li>
<li>Alright, I’ll wake you up in about an hour.
好的，一小时后我叫醒你。</li>
<li>I’m going to go crash in my room.
我要去我房间好好睡一觉。</li>
<li>Sleep well. You have a lot to do in the morning.
睡个好觉，你早上还有很多事要做呢。</li>
<li>You really need a good rest.
你确实需要好好休息了。</li>
<li>How early should I set my alarm?
我该把闹钟定多早呢？</li>
<li>Try to wake up by 8 am.
尽量早上 8 点醒来吧。</li>
<li>Should I set my alarm early?
我该把闹钟定早点吗？</li>
<li>Don’t set it any later than 9.
不能定得晚于 9 点。</li>
<li>Did you sleep well?
你睡得还好吗？</li>
<li>Yes, I slept very well.
嗯，我睡得挺好的。</li>
<li>No, I couldn’t fall asleep.
不好，我几乎没睡着。</li>
<li>Did you go to bed late last night?
昨晚你熬夜了？</li>
<li>Yes, this jetlag is going to kill me!
是啊，这时差综合症简直要我的命。</li>
<li>Are you awake?
你醒了吗？</li>
<li>Yeah, but I don’t wanna get up.
是啊，但我真不想起床。</li>
<li>You were snoring last night.
昨晚上你打呼噜了。</li>
<li>Did I keep you up?
我打扰你睡觉了吗？</li>
<li>Oh, really? I didn’t hear it.
哦，是吗？我没听到。</li>
</ul>


<h3>Notes:</h3>

<ul>
<li><p>晚安：</p></li>
<li><p>good night</p></li>
<li><p>sleep tight</p></li>
<li><p>nighty night</p></li>
<li><p>sweet dreams</p></li>
<li><p>sleep well</p></li>
<li><p>have a nice nap(小睡，午安)</p></li>
<li><p>Buenos noches mi amor 晚安吾爱（西班牙语）</p></li>
</ul>


<p>Like father, like son  有其父必有其子</p>

<p>plastic surgery  整形手术</p>

<p>judge book by its cover  以貌取人</p>

<p>bail on someone 放某人鸽子</p>

<p>to bail on somebody 背弃</p>

<p>to bail on sb 背弃</p>

<p>floor it  踩油门吧 全速前进</p>

<p>butt out / leave me alone  别管闲事</p>

<p>you gotta just relax and butt out!</p>

<p>another day another dollar/same old same old</p>

<p>what’s the hurry?</p>

<p>what’s new?    nothing much.</p>

<p>playing possum  装傻</p>

<p>take a rain check</p>

<p>let’s take a rain check  改天再约吧</p>

<p>dude,straight up  哥们，老实说。</p>

<p>oh, that stings. 太伤人了</p>

<p>that really stung me.</p>

<p>still calm and collected</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-22T10:08:00+08:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


	
		<span class="comments"><a href="/blog/2014/08/22/learn-english-5//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/21/android-dot-intent-dot-action-dot-assist/">
		
			android.intent.action.ASSIST</a>
	</h2>
	<div class="entry-content">
		<h3>public static final String ACTION_ASSIST</h3>

<h4>Added in API level 16</h4>

<p>Activity Action: Perform assist action.</p>

<p>Input: EXTRA_ASSIST_PACKAGE, EXTRA_ASSIST_CONTEXT, can provide additional optional contextual information about where the user was when they requested the assist. Output: nothing.</p>

<p>Constant Value: &ldquo;android.intent.action.ASSIST&rdquo;</p>

<h3>Register:</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span></span><span class="nt">&lt;intent-filter&gt;</span>
</span><span class='line'>    <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.ASSIST&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/category&gt;</span>
</span><span class='line'><span class="nt">&lt;/intent-filter&gt;</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-21T17:28:00+08:00" pubdate data-updated="true">Aug 21<span>st</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


	
		<span class="comments"><a href="/blog/2014/08/21/android-dot-intent-dot-action-dot-assist//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/18/remoteviews-dot-apply/">
		
			RemoteViews.apply</a>
	</h2>
	<div class="entry-content">
		<h3>RemoteViews.apply</h3>

<p>View  apply(Context context, ViewGroup parent)</p>

<p>Inflates the view hierarchy represented by this object and applies all of the actions.</p>

<h3>USAGE:</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="p">...</span><span class="na">bla</span> <span class="n">bla</span> <span class="n">bla</span>
</span><span class='line'>
</span><span class='line'><span class="n">Notification</span> <span class="n">notification</span> <span class="o">=</span> <span class="n">sbn</span><span class="p">.</span><span class="na">getNotification</span><span class="p">();</span>
</span><span class='line'><span class="n">RemoteViews</span> <span class="n">remoteViews</span> <span class="o">=</span> <span class="n">notification</span><span class="p">.</span><span class="na">contentView</span><span class="p">;</span>
</span><span class='line'><span class="n">View</span> <span class="n">notiView</span> <span class="o">=</span> <span class="n">previewRemote</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'><span class="p">...</span><span class="na">blablabla</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-18T21:17:00+08:00" pubdate data-updated="true">Aug 18<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


	
		<span class="comments"><a href="/blog/2014/08/18/remoteviews-dot-apply//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/25/android-ui-thread-and-work-thread/">
		
			Android UI Thread &amp; Work Thread</a>
	</h2>
	<div class="entry-content">
		<p>Using <code>wait()</code> and <code>notifyAll()</code> to make UI thread and work thread work one by one</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nd">@Override</span>
</span><span class='line'>          <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="kd">synchronized</span> <span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">//on some condition, update UI on UI thread with handler</span>
</span><span class='line'>                  <span class="n">handler</span><span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nd">@Override</span>
</span><span class='line'>                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                      <span class="kd">synchronized</span> <span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                        <span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">&quot;ui&quot;</span> <span class="o">+</span> <span class="n">index</span><span class="p">);</span>
</span><span class='line'>                        <span class="n">lock</span><span class="p">.</span><span class="na">notifyAll</span><span class="p">();</span>
</span><span class='line'>                      <span class="p">}</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                  <span class="p">});</span>
</span><span class='line'>                  <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                    <span class="n">lock</span><span class="p">.</span><span class="na">wait</span><span class="p">();</span>
</span><span class='line'>                  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>                <span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">&quot;work&quot;</span> <span class="o">+</span> <span class="n">i</span><span class="p">);</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>        <span class="p">}).</span><span class="na">start</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-25T10:37:00+08:00" pubdate data-updated="true">Jul 25<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


	
		<span class="comments"><a href="/blog/2014/07/25/android-ui-thread-and-work-thread//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/17/zhuan-java-android-threadpool/">
		
			[转]Java(Android) 线程池</a>
	</h2>
	<div class="entry-content">
		<p>转自:<a href="http://www.trinea.cn/android/java-android-thread-pool/">http://www.trinea.cn/android/java-android-thread-pool/</a></p>

<p>介绍 new Thread 的弊端及 Java 四种线程池的使用，对 Android 同样适用。本文是基础篇，后面会分享下线程池一些高级功能。</p>

<h3>1、new Thread 的弊端</h3>

<p>执行一个异步任务你还只是如下 new Thread 吗？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// TODO Auto-generated method stub</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}).</span><span class="na">start</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>那你就 out 太多了，new Thread 的弊端如下：</p>

<ol>
<li>每次 new Thread 新建对象性能差。</li>
<li>线程缺乏统一管理，可能无限制新建线程，相互之间竞争，及可能占用过多系统资源导致死机或 oom。</li>
<li>缺乏更多功能，如定时执行、定期执行、线程中断。</li>
</ol>


<p>相比 new Thread，Java 提供的四种线程池的好处在于：</p>

<ol>
<li>重用存在的线程，减少对象创建、消亡的开销，性能佳。</li>
<li>可有效控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞。</li>
<li>提供定时执行、定期执行、单线程、并发数控制等功能。</li>
</ol>


<h3>2、Java 线程池</h3>

<p>Java 通过 Executors 提供四种线程池，分别为：
- newCachedThreadPool 创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</p>

<ul>
<li><p>newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</p></li>
<li><p>newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。</p></li>
<li><p>newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。</p></li>
</ul>


<h4>(1). newCachedThreadPool</h4>

<p>创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">cachedThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newCachedThreadPool</span><span class="p">();</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">index</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">cachedThreadPool</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>线程池为无限大，当执行第二个任务时第一个任务已经完成，会复用执行第一个任务的线程，而不用每次新建线程。</p>

<h4>(2). newFixedThreadPool</h4>

<p>创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">fixedThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="n">fixedThreadPool</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">// TODO Auto-generated catch block</span>
</span><span class='line'>                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>因为线程池大小为 3，每个任务输出 index 后 sleep 2 秒，所以每两秒打印 3 个数字。
定长线程池的大小最好根据系统资源进行设置。如 Runtime.getRuntime().availableProcessors()。可参考 PreloadDataCache。</p>

<h4>(3) newScheduledThreadPool</h4>

<p>创建一个定长线程池，支持定时及周期性任务执行。延迟执行示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ScheduledExecutorService</span> <span class="n">scheduledThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newScheduledThreadPool</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span class='line'><span class="n">scheduledThreadPool</span><span class="p">.</span><span class="na">schedule</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;delay 3 seconds&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">},</span> <span class="mi">3</span><span class="p">,</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>表示延迟 3 秒执行。</p>

<p>定期执行示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">scheduledThreadPool</span><span class="p">.</span><span class="na">scheduleAtFixedRate</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;delay 1 seconds, and excute every 3 seconds&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>表示延迟 1 秒后每 3 秒执行一次。
ScheduledExecutorService 比 Timer 更安全，功能更强大，后面会有一篇单独进行对比。</p>

<h4>(4)、newSingleThreadExecutor</h4>

<p>创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">singleThreadExecutor</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">();</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="n">singleThreadExecutor</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">// TODO Auto-generated catch block</span>
</span><span class='line'>                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>结果依次输出，相当于顺序执行各个任务。
现行大多数 GUI 程序都是单线程的。Android 中单线程可用于数据库操作，文件操作，应用批量安装，应用批量删除等不适合并发但可能 IO 阻塞性及影响 UI 线程响应的操作。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-17T11:05:00+08:00" pubdate data-updated="true">Jul 17<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


	
		<span class="comments"><a href="/blog/2014/07/17/zhuan-java-android-threadpool//blog/page/2/index.html#disqus_thread">Comments</a></span>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/" class="prev">Prev</a>
    
    
        <a href="/blog/page/3/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2021

    Jerome Song

<br>
<a href="https://beian.miit.gov.cn/#/Integrated/index" class="href">京ICP备18059042号</a> Powered by Octopress. </footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'ziso';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fbc6d82df32ac0c05b0381389f892f199' type='text/javascript'%3E%3C/script%3E"));
</script>


	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-52131984-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>


<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>All Posts  | Faith, Hope, Charity</title>

<meta name="author" content="Jerome Song"> 

<meta name="description" content="Keen on the information technology."> <meta name="keywords" content="android , java , ruby , linux , software , programming , web development ,ubuntu">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<link href="/atom.xml" rel="alternate" title="Faith, Hope, Charity" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	
  	<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>

	<header id="header-custom" class="inner"><h1><a href="/">Faith, Hope, Charity</a></h1>
<h4>Art thou weary, tender heart?</h4>
<nav id="main-nav"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/timeline">Timeline</a></li>
	<li><a href="/about">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:1vn.wang">
			</form>
		</div>
	</div>
</nav>


</header>
	<nav id="home-nav">
    	<ul>
        	<li>
         		 <a href="#">
           	 	<span class="icon-home"></span>
           	 	<span class="screen-reader-text">Home</span>
         		 </a>
      		</li>
       </ul>
	</nav>​
	<div id="content-wrap" class="inner">
		<div id="content-bg" class="inner">
			<div id="content" class="inner"><div class="all-posts">
  <div class="container">
    <div class="row">
      <div class="list-title col-md-offset-3 col-md-6">
        <h4>All Posts</h4>
      </div>
    </div>
  </div>

  <div class="article-list">
    <div class="container">
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2021/10/28/learn-opentag/">Learn OpenTag</a></h2>
  
  <p>
    

  </p>
  <span class="meta">
    written 








  


<time datetime="2021-10-28T14:36:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2021</time>
    


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2016/01/06/githug/">Githug秘籍</a></h2>
  
  <p>
    <ol>
<li>init</li>
<li>config</li>
<li>add</li>
<li>commit</li>
<li>clone</li>
<li>clone_to_folder</li>
<li>ignore</li>
<li>include</li>
<li>status</li>
<li>number_of_files_committed</li>
<li>rm</li>
<li>rm_cached</li>
<li>stash</li>
<li>rename</li>
<li>restructure</li>
<li>log</li>
<li>tag</li>
<li>push_tags</li>
<li>commit_amend</li>
<li>commit_in_future</li>
<li>reset</li>
<li>reset_soft</li>
<li>checkout_file</li>
<li>remote</li>
<li>remote_url</li>
<li>pull</li>
<li>remote_add</li>
<li>push</li>
<li>diff</li>
<li>blame</li>
<li>branch</li>
<li>checkout</li>
<li>checkout_tag</li>
<li>checkout_tag_over_branch</li>
<li>branch_at</li>
<li>delete_branch</li>
<li>push_branch</li>
<li>merge</li>
<li>fetch</li>
<li>rebase</li>
<li>repack</li>
<li>cherry-pick</li>
<li>grep</li>
<li>rename_commit</li>
<li>squash</li>
<li>merge_squash</li>
<li>reorder</li>
<li>bisect</li>
<li>stage_lines</li>
<li>find_old_branch</li>
<li>revert</li>
<li>restore</li>
<li>conflict</li>
<li>submodule</li>
<li>contribute</li>
</ol>




  </p>
  <span class="meta">
    written 








  


<time datetime="2016-01-06T11:31:00+08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2016</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/git/'>git</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/24/resource-shrinking/">Resource Shrinking</a></h2>
  
  <p>
    <p><a href="http://tools.android.com/tech-docs/new-build-system/resource-shrinking">http://tools.android.com/tech-docs/new-build-system/resource-shrinking</a></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-24T20:33:00+08:00" pubdate data-updated="true">Jan 24<span>th</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/22/best-practices-for-api-versioning/">Best Practices for API Versioning</a></h2>
  
  <p>
    <p>This is a good and a tricky question. The topic of URI design is at the same time the most prominent part of a REST API and, therefore, a potentially long-term commitment towards the users of that API.</p>




<p>Since evolution of an application and, to a lesser extent, its API is a fact of life and that it&rsquo;s even similar to the evolution of a seemingly complex product like a programming language, the URI design should have less natural constraints and it should be preserved over time. The longer the application&rsquo;s and API&rsquo;s lifespan, the greater the commitment to the users of the application and API.</p>




<p>On the other hand, another fact of life is that it is hard to foresee all the resources and their aspects that would be consumed through the API. Luckily, it is not necessary to design the entire API which will be used until <a href="http://en.wikipedia.org/wiki/Apocalypse">Apocalypse</a>. It is sufficient to correctly define all the resource end-points and the addressing scheme of every resource and resource instance.</p>




<p>Over time you may need to add new resources and new attributes to each particular resource, but the method that API users follow to access a particular resources should not change once a resource addressing scheme becomes public and therefore final.</p>




<p>This method applies to HTTP verb semantics (e.g. PUT should always update/replace) and HTTP status codes that are supported in earlier API versions (they should continue to work so that API clients that have worked without human intervention should be able to continue to work like that).</p>




<p>Furthermore, since embedding of API version into the URI would disrupt the concept of <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5">hypermedia as the engine of application state</a> (stated in Roy T. Fieldings PhD dissertation) by having a resource address/URI that would change over time, I would conclude that API versions should not be kept in resource URIs for a long time meaning that <font color="green">resource URIs that API users can depend on should be permalinks</font>.</p>




<p>Sure, it is possible to embed API version in base URI but only for reasonable and restricted uses like debugging a API client that works with the the new API version. Such versioned APIs should be time-limited and available to limited groups of API users (like during closed betas) only. Otherwise, you commit yourself where you shouldn&rsquo;t.</p>




<p>A couple of thoughts regarding maintenance of API versions that have expiration date on them. All programming platforms/languages commonly used to implement web services (Java, .NET, PHP, Perl, Rails, etc.) allow easy binding of web service end-point(s) to a base URI. This way it&rsquo;s easy to gather and keep a collection of files/classes/methods separate across different API versions.</p>




<p>From the API users POV, it&rsquo;s also easier to work with and bind to a particular API version when it&rsquo;s this obvious but only for limited time, i.e. during development.</p>




<p>From the API maintainer&rsquo;s POV, it&rsquo;s easier to maintain different API versions in parallel by using source control systems that predominantly work on files as the smallest unit of (source code) versioning.</p>




<p>However, with API versions clearly visible in URI there&rsquo;s a caveat: one might also object this approach since <font color="red">API history becomes visible/aparent in the URI design</font> and therefore is prone to changes over time which goes against the guidelines of REST. I agree!</p>




<p>The way to go around this reasonable objection, is to implement the latest API version under versionless API base URI. In this case, API client developers can choose to either:</p>




<ul>
<li><p>develop against the latest one (committing themselves to maintain the application protecting it from eventual API changes that might break their badly designed API client).</p></li>
<li><p>bind to a specific version of the API (which becomes apparent) but only for a limited time</p></li>
</ul>




<p>For example, if API v3.0 is the latest API version, the following two should be aliases (i.e. behave identically to all API requests):</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'><a href="http://shonzilla/api/customers/1234">http://shonzilla/api/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v3.0/customers/1234">http://shonzilla/api/v3.0/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v3/customers/1234">http://shonzilla/api/v3/customers/1234</a></span></code></pre></td></tr></table></div></figure></p>

<p>In addition, API clients that still try to point to the <em>old</em> API should be informed to use the latest previous API version, if the API version they&rsquo;re using is obsolete or not supported anymore. So accessing any of the obsolete URIs like these:</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'><a href="http://shonzilla/api/v2.2/customers/1234">http://shonzilla/api/v2.2/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v2.0/customers/1234">http://shonzilla/api/v2.0/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v2/customers/1234">http://shonzilla/api/v2/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v1.1/customers/1234">http://shonzilla/api/v1.1/customers/1234</a>
</span><span class='line'><a href="http://shonzilla/api/v1/customers/1234">http://shonzilla/api/v1/customers/1234</a></span></code></pre></td></tr></table></div></figure></p>

<p>should return any of the 30x HTTP status codes that indicate redirection that are used in conjunction with <code>Location</code> HTTP header that redirects to the appropriate version of resource URI which remain to be this one:</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'><a href="http://shonzilla/api/customers/1234">http://shonzilla/api/customers/1234</a></span></code></pre></td></tr></table></div></figure></p>

<p>There are at least two redirection HTTP status codes that are appropriate for API versioning scenarios:</p>




<ul>
<li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.2">301 Moved permanently</a> indicating that the resource with a requested URI is moved permanently to another URI (which should be a resource instance permalink that does not contain API version info). This status code can be used to indicate an obsolete/unsupported API version, informing API client that a versioned resource URI been replaced by a resource permalink.</p></li>
<li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3">302 Found</a> indicating that the requested resource temporarily is located at another location, while requested URI may still supported. This status code may be useful when the version-less URIs are temporarily unavailable and that a request should be repeated using the redirection address (e.g. pointing to the URI with APi version embedded) and we want to tell clients to keep using it (i.e. the permalinks).</p></li>
<li><p>other scenarios can be found in <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3">Redirection 3xx chapter of HTTP 1.1 specification</a></p></li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-22T19:53:00+08:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/web/'>web</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/20/how-to-delete-a-remote-git-tag/">How to Delete a Remote Git Tag</a></h2>
  
  <p>
    <p>You probably won&rsquo;t need to do this often (if ever at all) but just in case, here is how to delete a tag from a remote Git repository.</p>




<p>If you have a tag named &lsquo;demo&rsquo; then you would just do this:</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git tag -d demo
</span><span class='line'>git push origin :refs/tags/demo
</span><span class='line'>That will remove &lsquo;demo&rsquo; from the remote repository.</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-20T22:02:00+08:00" pubdate data-updated="true">Jan 20<span>th</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/git/'>git</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/17/copyonwritearraylist/">CopyOnWriteArrayList</a></h2>
  
  <p>
    <p>A thread-safe variant of ArrayList in which all mutative operations (add, set, and so on) are implemented by making a fresh copy of the underlying array.
This is ordinarily too costly, but may be more efficient than alternatives when traversal operations vastly outnumber mutations, and is useful when you cannot or don&rsquo;t want to synchronize traversals, yet need to preclude interference among concurrent threads. The &ldquo;snapshot&rdquo; style iterator method uses a reference to the state of the array at the point that the iterator was created. This array never changes during the lifetime of the iterator, so interference is impossible and the iterator is guaranteed not to throw ConcurrentModificationException. The iterator will not reflect additions, removals, or changes to the list since the iterator was created. Element-changing operations on iterators themselves (remove, set, and add) are not supported. These methods throw UnsupportedOperationException.</p>




<p>All elements are permitted, including null.</p>




<p>Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a CopyOnWriteArrayList happen-before actions subsequent to the access or removal of that element from the CopyOnWriteArrayList in another thread.</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-17T22:05:00+08:00" pubdate data-updated="true">Jan 17<span>th</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/java/'>java</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/12/sqlite-notes/">SQLite Notes</a></h2>
  
  <p>
    <p>The Offsets Function of fts</p>




<p>Integer Interpretation</p>




<p>0 The column number that the term instance occurs in (0 for the leftmost column of the FTS table, 1 for the next leftmost, etc.).
1 The term number of the matching term within the full-text query expression. Terms within a query expression are numbered starting from 0 in the order that they occur.
2 The byte offset of the matching term within the column.
3 The size of the matching term in bytes.</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-12T14:43:00+08:00" pubdate data-updated="true">Jan 12<span>th</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/sqlite/'>SQLite</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2015/01/09/android-studio-live-templates/">Android Studio Live Templates</a></h2>
  
  <p>
    <p><strong>Type the abbrs then click <code>TAB</code>, template codes will be generated automatically.</strong></p>




<h3>iterations</h3>




<ul>
<li><code>fori</code> Create iteration loop</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">$INDEX$</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">$INDEX$</span> <span class="o">&lt;</span> <span class="n">$LIMIT$</span><span class="p">;</span> <span class="n">$INDEX$</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>itar</code> Iterate elements of array</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">$INDEX$</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">$INDEX$</span> <span class="o">&lt;</span> <span class="n">$ARRAY$</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">$INDEX$</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$ARRAY$</span><span class="o">[</span><span class="n">$INDEX$</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>itco</code> Iterate elements of java.util.Collection</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span><span class="p">(</span><span class="n">$ITER_TYPE$</span> <span class="n">$ITER$</span> <span class="o">=</span> <span class="n">$COLLECTION$</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span> <span class="n">$ITER$</span><span class="p">.</span><span class="na">hasNext</span><span class="p">();</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span><span class="n">$CAST$</span> <span class="n">$ITER$</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>iten</code> Iterate java.util.Enumeration</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">while</span><span class="p">(</span><span class="n">$ENUM$</span><span class="p">.</span><span class="na">hasMoreElements</span><span class="p">()){</span>
</span><span class='line'>  <span class="n">$TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$CAST$</span> <span class="n">$ENUM$</span><span class="p">.</span><span class="na">nextElement</span><span class="p">();</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>iter</code> Iterate Iterable | Array in J2SDK 5.0 syntax</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span> <span class="p">(</span><span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="p">:</span> <span class="n">$ITERABLE_TYPE$</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>itit</code> Iterate java.util.Iterator</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">while</span><span class="p">(</span><span class="n">$ITER$</span><span class="p">.</span><span class="na">hasNext</span><span class="p">()){</span>
</span><span class='line'>  <span class="n">$TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$CAST$</span> <span class="n">$ITER$</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>itli</code> Iterate elements of java.util.List</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">$INDEX$</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">$INDEX$</span> <span class="o">&lt;</span> <span class="n">$LIST$</span><span class="p">.</span><span class="na">size</span><span class="p">();</span> <span class="n">$INDEX$</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$CAST$</span> <span class="n">$LIST$</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">$INDEX$</span><span class="p">);</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>ittok</code> Iterate tokens from String</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span> <span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">StringTokenizer</span> <span class="n">$TOKENIZER$</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">StringTokenizer</span><span class="p">(</span><span class="n">$STRING$</span><span class="p">);</span> <span class="n">$TOKENIZER$</span><span class="p">.</span><span class="na">hasMoreTokens</span><span class="p">();</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$TOKENIZER_COPY$</span><span class="p">.</span><span class="na">nextToken</span><span class="p">();</span>
</span><span class='line'>    <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>itve</code> Iterate elements of java.util.Vector</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">$INDEX$</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">$INDEX$</span> <span class="o">&lt;</span> <span class="n">$VECTOR$</span><span class="p">.</span><span class="na">size</span><span class="p">();</span> <span class="n">$INDEX$</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$CAST$</span> <span class="n">$VECTOR$</span><span class="p">.</span><span class="na">elementAt</span><span class="p">(</span><span class="n">$INDEX$</span><span class="p">);</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<ul>
<li><code>ritar</code> Iterate elements of array in reverse order</li>
</ul>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">$INDEX$</span> <span class="o">=</span> <span class="n">$ARRAY$</span><span class="p">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">$INDEX$</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">$INDEX$</span><span class="o">&ndash;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">$ELEMENT_TYPE$</span> <span class="n">$VAR$</span> <span class="o">=</span> <span class="n">$ARRAY$</span><span class="o">[</span><span class="n">$INDEX$</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>  <span class="n">$END$</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<h3>other</h3>




<ul>
<li>geti</li>
<li>ifn</li>
<li>inn</li>
<li>inst</li>
<li>lazy</li>
<li>lst</li>
<li>mn</li>
<li>mx</li>
<li>psvm</li>
<li>toar

<h3>output</h3></li>
<li>serr</li>
<li>souf</li>
<li>sout</li>
<li>soutm</li>
<li>soutp</li>
<li>soutv

<h3>plain</h3></li>
<li>psf</li>
<li>psfi</li>
<li>psfs</li>
<li>St</li>
<li>thr</li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2015-01-09T21:29:00+08:00" pubdate data-updated="true">Jan 9<span>th</span>, 2015</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/12/26/android-hardware-acceleration/">Android&#8211;Hardware Acceleration</a></h2>
  
  <p>
    <p>Android 中的硬件加速
本文的主要内容来自 SDK 文章的&#8221;Hardware Acceleration”.</p>




<p>从 Android 3.0 开始，Android 的 2D 渲染管线可以更好的支持硬件加速。硬件加速使用 GPU 进行 View 上的绘制操作。</p>




<p>硬件加速可以在一下四个级别开启或关闭：</p>




<p>Application
Activity
Window
View
Application 级别</p>




<p>往您的应用程序 AndroidManifest.xml 文件为 application 标签添加如下的属性即可为整个应用程序开启硬件加速：</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;application android:hardwareAccelerated=&ldquo;true&rdquo; &hellip;/&gt;</span></code></pre></td></tr></table></div></figure></p>

<p>Activity 级别</p>




<p>您还可以控制每个 activity 是否开启硬件加速，只需在 activity 元素中添加 android:hardwareAccelerated 属性即可办到。比如下面的例子，在 application 级别开启硬件加速，但在某个 activity 上关闭硬件加速。</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;application android:hardwareAccelerated=&ldquo;true&rdquo;&gt;
</span><span class='line'>    &lt;activity &hellip; /&gt;
</span><span class='line'>    &lt;activity android:hardwareAccelerated=&ldquo;false&rdquo; /&gt;
</span><span class='line'>&lt;/application&gt;</span></code></pre></td></tr></table></div></figure></p>

<p>Window 级别</p>




<p>如果您需要更小粒度的控制，可以使用如下代码开启某个 window 的硬件加速：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">getWindow</span><span class="p">().</span><span class="na">setFlags</span><span class="p">(</span>
</span><span class='line'>    <span class="n">WindowManager</span><span class="p">.</span><span class="na">LayoutParams</span><span class="p">.</span><span class="na">FLAG_HARDWARE_ACCELERATED</span><span class="p">,</span>
</span><span class='line'>    <span class="n">WindowManager</span><span class="p">.</span><span class="na">LayoutParams</span><span class="p">.</span><span class="na">FLAG_HARDWARE_ACCELERATED</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>注：目前还不能在 window 级别关闭硬件加速。</p>




<p>View 级别</p>




<p>您可以在运行时用以下的代码关闭单个 view 的硬件加速：</p>




<p>myView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);
注：您不能在 view 级别开启硬件加速</p>




<p>为什么需要这么多级别的控制？</p>




<p>很明显，硬件加速能够带来性能提升，android 为什么要弄出这么多级别的控制，而不是默认就是全部硬件加速呢？原因是并非所有的 2D 绘图操作支持硬件加速，如果您的程序中使用了自定义视图或者绘图调用，程序可能会工作不正常。如果您的程序中只是用了标准的视图和 Drawable，放心大胆的开启硬件加速吧！具体是哪些绘图操作不支持硬件加速呢?以下是已知不支持硬件加速的绘图操作：</p>




<p>Canvas
clipPath()
clipRegion()
drawPicture()
drawPosText()
drawTextOnPath()
drawVertices()
Paint
setLinearText()
setMaskFilter()
setRasterizer()
另外还有一些绘图操作，开启和不开启硬件加速，效果不一样：</p>




<p>Canvas
clipRect()： XOR, Difference 和 ReverseDifference 裁剪模式被忽略，3D 变换将不会应用在裁剪的矩形上。
drawBitmapMesh()：colors 数组被忽略
drawLines()：反锯齿不支持
setDrawFilter()：可以设置，但无效果
Paint
setDither()： 忽略
setFilterBitmap()：过滤永远开启
setShadowLayer()：只能用在文本上
ComposeShader
ComposeShader 只能包含不同类型的 shader (比如一个 BitmapShader 和一个 LinearGradient，但不能是两个 BitmapShader 实例)
ComposeShader 不能包含 ComposeShader
如果应用程序受到这些影响，您可以在受影响的部分调用 setLayerType(View.LAYER_TYPE_SOFTWARE, null)，这样在其它地方仍然可以享受硬件加速带来的好处</p>




<p>Android 的绘制模型</p>




<p>开启硬件加速后，Android 框架将采用新的绘制模型。基于软件的绘制模型和基于硬件的绘制模型有和不同呢？</p>




<p>基于软件的绘制模型</p>




<p>在软件绘制模型下，视图按照如下两个步骤绘制：</p>




<ol>
<li><p>Invalidate the hierarchy（注：hierarchy 怎么翻译？）</p></li>
<li><p>Draw the hierarchy</p></li>
</ol>




<p>应用程序调用 invalidate()更新 UI 的某一部分，失效(invalidation)消息将会在整个视图层中传递，计算每个需要重绘的区域（即脏区域）。然后 Android 系统将会重绘所有和脏区域有交集的 view。很明显，这种绘图模式存在缺点：</p>




<ol>
<li><p>每个绘制操作中会执行不必要的代码。比如如果应用程序调用 invalidate()重绘 button，而 button 又位于另一个 view 之上，即使该 view 没有变化，也会进行重绘。</p></li>
<li><p>可能会掩盖一些应用程序的 bug。因为 android 系统会重绘与脏区域有交集的 view，所以 view 的内容可能会在没有调用 invalidate()的情况下重绘。这可能会导致一个 view 依赖于其它 view 的失效才得到正确的行为。</p></li>
</ol>




<p>基于硬件的绘制模型</p>




<p>Android 系统仍然使用 invalidate()和 draw()来绘制 view，但在处理绘制上有所不同。Android 系统记录绘制命令到显示列表，而不是立即执行绘制命令。另一个优化就是 Android 系统只需记录和更新标记为脏（通过 invalidate()）的 view。新的绘制模型包含三个步骤：</p>




<ol>
<li><p>Invalidate the hierarchy</p></li>
<li><p>记录和更新显示列表</p></li>
<li><p>绘制显示列表</p></li>
</ol>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-12-26T09:55:00+08:00" pubdate data-updated="true">Dec 26<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/12/06/git-log-pretty/">Git Log Pretty</a></h2>
  
  <p>
    <ul>
<li>%H: commit hash</li>
<li>%h: 缩短的 commit hash</li>
<li>%T: tree hash</li>
<li>%t: 缩短的 tree hash</li>
<li>%P: parent hashes</li>
<li>%p: 缩短的 parent hashes</li>
<li>%an: 作者名字</li>
<li>%aN: mailmap 的作者名字 (.mailmap 对应，详情参照 git-shortlog(1)或者 git-blame(1))</li>
<li>%ae: 作者邮箱</li>
<li>%aE: 作者邮箱 (.mailmap 对应，详情参照 git-shortlog(1)或者 git-blame(1))</li>
<li>%ad: 日期 (&ndash;date= 制定的格式)</li>
<li>%aD: 日期, RFC2822 格式</li>
<li>%ar: 日期, 相对格式(1 day ago)</li>
<li>%at: 日期, UNIX timestamp</li>
<li>%ai: 日期, ISO 8601 格式</li>
<li>%cn: 提交者名字</li>
<li>%cN: 提交者名字 (.mailmap 对应，详情参照 git-shortlog(1)或者 git-blame(1))</li>
<li>%ce: 提交者 email</li>
<li>%cE: 提交者 email (.mailmap 对应，详情参照 git-shortlog(1)或者 git-blame(1))</li>
<li>%cd: 提交日期 (&ndash;date= 制定的格式)</li>
<li>%cD: 提交日期, RFC2822 格式</li>
<li>%cr: 提交日期, 相对格式(1 day ago)</li>
<li>%ct: 提交日期, UNIX timestamp</li>
<li>%ci: 提交日期, ISO 8601 格式</li>
<li>%d: ref 名称</li>
<li>%e: encoding</li>
<li>%s: commit 信息标题</li>
<li>%f: sanitized subject line, suitable for a filename</li>
<li>%b: commit 信息内容</li>
<li>%N: commit notes</li>
<li>%gD: reflog selector, e.g., refs/stash@{1}</li>
<li>%gd: shortened reflog selector, e.g., stash@{1}</li>
<li>%gs: reflog subject</li>
<li>%Cred: 切换到红色</li>
<li>%Cgreen: 切换到绿色</li>
<li>%Cblue: 切换到蓝色</li>
<li>%Creset: 重设颜色</li>
<li>%C(&hellip;): 制定颜色, as described in color.branch.* config option</li>
<li>%m: left, right or boundary mark</li>
<li>%n: 换行</li>
<li>%%: a raw %</li>
<li>%x00: print a byte from a hex code</li>
<li>%w([[,[,]]]): switch line wrapping, like the -w option of git-shortlog(1).</li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-12-06T19:40:00+08:00" pubdate data-updated="true">Dec 6<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/git/'>git</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/09/23/vim-tips/">Vim Tips</a></h2>
  
  <p>
    <p>1）删除文字</p>




<ul>
<li><p>「x」：每按一次，删除光标所在位置的“后面”一个字符。</p></li>
<li><p>「#x」：例如，「6x」表示删除光标所在位置的“后面”6 个字符。</p></li>
<li><p>「X」：大写的 X，每按一次，删除光标所在位置的“前面”一个字符。</p></li>
<li><p>「#X」：例如，「20X」表示删除光标所在位置的“前面”20 个字符。</p></li>
<li><p>「dd」：删除光标所在行。</p></li>
<li><p>「#dd」：从光标所在行开始删除#行</p></li>
<li><p>「dG」：全部删除</p></li>
</ul>




<p>2）复制</p>




<ul>
<li><p>「yw」：将光标所在之处到字尾的字符复制到缓冲区中。</p></li>
<li><p>「#yw」：复制#个字到缓冲区</p></li>
<li><p>「yy」：复制光标所在行到缓冲区。</p></li>
<li><p>「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6 行文字。</p></li>
<li><p>「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。</p></li>
</ul>




<p>3）替换</p>




<ul>
<li><p>「r」：替换光标所在处的字符。</p></li>
<li><p>「R」：替换光标所到之处的字符，直到按下「ESC」键为止。</p></li>
</ul>




<p>4）回复上一次操作</p>




<ul>
<li>「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。 -</li>
</ul>




<p>5）跳至指定的行</p>




<ul>
<li><p>「ctrl」+「g」列出光标所在行的行号。</p></li>
<li><p>「#G」：例如，「15G」，表示移动光标至文章的第 15 行行首。</p></li>
</ul>




<hr />




<p>Last line mode 下命令简介</p>




<p>　　在使用「last line mode」之前，请记住先按「ESC」键确定您已经处于「command mode」下后，再按「：」冒号即可进入「last line mode」。</p>




<p>A) 列出行号</p>




<ul>
<li>「set nu」：输入「set nu」后，会在文件中的每一行前面列出行号。</li>
</ul>




<p>B) 跳到文件中的某一行</p>




<ul>
<li>「#」：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字 15，再回车，就会跳到文章的第 15 行。</li>
</ul>




<p>C) 查找字符</p>




<ul>
<li><p>「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止。</p></li>
<li><p>「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。</p></li>
</ul>




<p>D) 保存文件</p>




<ul>
<li>「w」：在冒号输入字母「w」就可以将文件保存起来。</li>
</ul>




<p>E) 离开 vi</p>




<ul>
<li><p>「q」：按「q」就是退出，如果无法离开 vi，可以在「q」后跟一个「!」强制离开 vi。</p></li>
<li><p>「qw」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件。
<br></p></li>
</ul>




<hr />




<ul>
<li>查看并编辑二进制文件</li>
</ul>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:%!xxd </span></code></pre></td></tr></table></div></figure></p>

<p></p>




<ul>
<li>返回原文</li>
</ul>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:%!xxd -r  </span></code></pre></td></tr></table></div></figure></p>

<ul>
<li>ctrl+f        在文件中前移一页（相当于 page down）；</li>
<li>ctrl+b        在文件中后移一页（相当于 page up）；</li>
<li>*          当光标停留在一个单词上，* 键会在文件内搜索该单词，并跳转到下一处；</li>
<li>#          当光标停留在一个单词上，# 在文件内搜索该单词，并跳转到上一处；</li>
<li>( / )        移动到 前/后 句的开始；</li>
<li>{ / }        跳转到 当 前/下一个 段落的开始。</li>
<li>g_         到本行最后一个不是 blank 字符的位置。</li>
<li>fa         到下一个为 a 的字符处，你也可以 fs 到下一个为 s 的字符。</li>
<li>t,         到逗号前的第一个字符。逗号可以变成其它字符。</li>
<li>3fa        在当前行查找第三个出现的 a。</li>
<li>F/T        和 f 和 t 一样，只不过是相反方向;</li>
<li>gg         将光标定位到文件第一行起始位置；</li>
<li>G          将光标定位到文件最后一行起始位置；</li>
<li>NG 或 Ngg    将光标定位到第 N 行的起始位置。</li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-09-23T11:53:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/09/19/run-lint-in-android-studio/">Run Lint in Android Studio</a></h2>
  
  <p>
    <p>Run lint in Android Studio</p>




<p>As I have just started learning Android developement, I was happy to see lint as such an integral part of the development process.</p>




<p>To runt lint and analyze your project, simply select <code>Analyze &gt; Inspect Code</code>.</p>




<p>In the popup window that appears, you can select the analysis scope, like which projects to analyze and which to skip. For my test project, I just chose to analyze everything and ended up with this nice summary:
<br/><br/>
<img src="/images/2014/09/inspect_code.png" title="inspect code" alt="" /><br/><br/></p>




<p>When you browse through the reported items, you will notice that many of them can just be ignored. For instance, spelling, which catches a lot of non-typos in strings. For instance, the project name, is reported as a typo. It also complains about invalid XML in generated files.</p>




<p>However, stuff like the items under Android lint and Declaration redundancy are highly interesting, and will be a great help for a newbie like me.</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-09-19T10:52:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/09/15/regex-in-sublime-text-2/">Regex in Sublime Text 2</a></h2>
  
  <p>
    <ul>
<li>空行： ^[\s]*\n</li>
<li>偶数行：\n(.*)\n</li>
</ul>




<hr />




<p>&lsquo;CMD+SHIFT+W&rsquo;  close all without close the window</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-09-15T12:11:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/09/02/mysql-add-unique-index/">MySQL Add UNIQUE INDEX</a></h2>
  
  <p>
    <p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ALTER TABLE table ENGINE MyISAM;
</span><span class='line'>
</span><span class='line'>ALTER IGNORE TABLE table ADD UNIQUE INDEX(uid,name);
</span><span class='line'>
</span><span class='line'>ALTER TABLE table ENGINE InnoDB;</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-09-02T21:43:00+08:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/basic/'>basic</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/08/23/android-r-dot-plurals-dot-name/">Android R.plurals.name</a></h2>
  
  <p>
    <h3>Quantity Strings (Plurals)</h3>




<p>getQuantityString(int id, int quantity)
getQuantityString(int id, int quantity, Object&hellip; formatArgs)</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;plurals name=&ldquo;search_results&rdquo;&gt;
</span><span class='line'>    &lt;item quantity=&ldquo;one&rdquo;&gt;%1$d result for \&ldquo;%2$s\&rdquo;&lt;/item&gt;
</span><span class='line'>    &lt;item quantity=&ldquo;other&rdquo;&gt;%1$d results for \&ldquo;%2$s\&rdquo;&lt;/item&gt;
</span><span class='line'>&lt;/plurals&gt;</span></code></pre></td></tr></table></div></figure></p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//第一个参数 count 用于选择 xml 中选择那个 item
</span><span class='line'>//第二个参数用于插入占位符
</span><span class='line'>//
</span><span class='line'>String resultHint = getResources().getQuantityString(R.plurals.search_results,                    count,new Object[] { count, query });
</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-08-23T11:06:00+08:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2014</time>
    


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/08/22/learn-english-5/">Learn English (5)</a></h2>
  
  <p>
    <p><img src="/images/2014/08/co-sleeping-family-bed-leigh-pennebaker-baby.jpg" title="baby" alt="baby" /><br/></p>




<h3>睡觉起床</h3>




<ul>
<li>I’m going to bed for the night. Goodnight!
我要上床睡觉去了，晚安</li>
<li>Goodnight.
晚安。
-Goodnight, I’m going to sleep.
晚安，我要去睡觉了。</li>
<li>Sweet dreams.
做个好梦</li>
<li>I think I’ll take a nap.
我觉得我要睡一会儿。</li>
<li>I really need to relax and take a nap.
我真的需要休息睡一会儿。</li>
<li>Alright, I’ll wake you up in about an hour.
好的，一小时后我叫醒你。</li>
<li>I’m going to go crash in my room.
我要去我房间好好睡一觉。</li>
<li>Sleep well. You have a lot to do in the morning.
睡个好觉，你早上还有很多事要做呢。</li>
<li>You really need a good rest.
你确实需要好好休息了。</li>
<li>How early should I set my alarm?
我该把闹钟定多早呢？</li>
<li>Try to wake up by 8 am.
尽量早上 8 点醒来吧。</li>
<li>Should I set my alarm early?
我该把闹钟定早点吗？</li>
<li>Don’t set it any later than 9.
不能定得晚于 9 点。</li>
<li>Did you sleep well?
你睡得还好吗？</li>
<li>Yes, I slept very well.
嗯，我睡得挺好的。</li>
<li>No, I couldn’t fall asleep.
不好，我几乎没睡着。</li>
<li>Did you go to bed late last night?
昨晚你熬夜了？</li>
<li>Yes, this jetlag is going to kill me!
是啊，这时差综合症简直要我的命。</li>
<li>Are you awake?
你醒了吗？</li>
<li>Yeah, but I don’t wanna get up.
是啊，但我真不想起床。</li>
<li>You were snoring last night.
昨晚上你打呼噜了。</li>
<li>Did I keep you up?
我打扰你睡觉了吗？</li>
<li>Oh, really? I didn’t hear it.
哦，是吗？我没听到。</li>
</ul>




<h3>Notes:</h3>




<ul>
<li><p>晚安：</p></li>
<li><p>good night</p></li>
<li><p>sleep tight</p></li>
<li><p>nighty night</p></li>
<li><p>sweet dreams</p></li>
<li><p>sleep well</p></li>
<li><p>have a nice nap(小睡，午安)</p></li>
<li><p>Buenos noches mi amor 晚安吾爱（西班牙语）</p></li>
</ul>




<p>Like father, like son  有其父必有其子</p>




<p>plastic surgery  整形手术</p>




<p>judge book by its cover  以貌取人</p>




<p>bail on someone 放某人鸽子</p>




<p>to bail on somebody 背弃</p>




<p>to bail on sb 背弃</p>




<p>floor it  踩油门吧 全速前进</p>




<p>butt out / leave me alone  别管闲事</p>




<p>you gotta just relax and butt out!</p>




<p>another day another dollar/same old same old</p>




<p>what’s the hurry?</p>




<p>what’s new?    nothing much.</p>




<p>playing possum  装傻</p>




<p>take a rain check</p>




<p>let’s take a rain check  改天再约吧</p>




<p>dude,straight up  哥们，老实说。</p>




<p>oh, that stings. 太伤人了</p>




<p>that really stung me.</p>




<p>still calm and collected</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-08-22T10:08:00+08:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/08/21/android-dot-intent-dot-action-dot-assist/">android.intent.action.ASSIST</a></h2>
  
  <p>
    <h3>public static final String ACTION_ASSIST</h3>




<h4>Added in API level 16</h4>




<p>Activity Action: Perform assist action.</p>




<p>Input: EXTRA_ASSIST_PACKAGE, EXTRA_ASSIST_CONTEXT, can provide additional optional contextual information about where the user was when they requested the assist. Output: nothing.</p>




<p>Constant Value: &ldquo;android.intent.action.ASSIST&rdquo;</p>




<h3>Register:</h3>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span></span><span class="nt">&lt;intent-filter&gt;</span>
</span><span class='line'>    <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.ASSIST&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/category&gt;</span>
</span><span class='line'><span class="nt">&lt;/intent-filter&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-08-21T17:28:00+08:00" pubdate data-updated="true">Aug 21<span>st</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/08/18/remoteviews-dot-apply/">RemoteViews.apply</a></h2>
  
  <p>
    <h3>RemoteViews.apply</h3>




<p>View  apply(Context context, ViewGroup parent)</p>




<p>Inflates the view hierarchy represented by this object and applies all of the actions.</p>




<h3>USAGE:</h3>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="p">&hellip;</span><span class="na">bla</span> <span class="n">bla</span> <span class="n">bla</span>
</span><span class='line'>
</span><span class='line'><span class="n">Notification</span> <span class="n">notification</span> <span class="o">=</span> <span class="n">sbn</span><span class="p">.</span><span class="na">getNotification</span><span class="p">();</span>
</span><span class='line'><span class="n">RemoteViews</span> <span class="n">remoteViews</span> <span class="o">=</span> <span class="n">notification</span><span class="p">.</span><span class="na">contentView</span><span class="p">;</span>
</span><span class='line'><span class="n">View</span> <span class="n">notiView</span> <span class="o">=</span> <span class="n">previewRemote</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'><span class="p">&hellip;</span><span class="na">blablabla</span>
</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-08-18T21:17:00+08:00" pubdate data-updated="true">Aug 18<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/25/android-ui-thread-and-work-thread/">Android UI Thread &amp; Work Thread</a></h2>
  
  <p>
    <p>Using <code>wait()</code> and <code>notifyAll()</code> to make UI thread and work thread work one by one</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nd">@Override</span>
</span><span class='line'>          <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="kd">synchronized</span> <span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">//on some condition, update UI on UI thread with handler</span>
</span><span class='line'>                  <span class="n">handler</span><span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nd">@Override</span>
</span><span class='line'>                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                      <span class="kd">synchronized</span> <span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                        <span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">&quot;ui&quot;</span> <span class="o">+</span> <span class="n">index</span><span class="p">);</span>
</span><span class='line'>                        <span class="n">lock</span><span class="p">.</span><span class="na">notifyAll</span><span class="p">();</span>
</span><span class='line'>                      <span class="p">}</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                  <span class="p">});</span>
</span><span class='line'>                  <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                    <span class="n">lock</span><span class="p">.</span><span class="na">wait</span><span class="p">();</span>
</span><span class='line'>                  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>                <span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">&quot;work&quot;</span> <span class="o">+</span> <span class="n">i</span><span class="p">);</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>        <span class="p">}).</span><span class="na">start</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-25T10:37:00+08:00" pubdate data-updated="true">Jul 25<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/17/zhuan-java-android-threadpool/">[转]Java(Android) 线程池</a></h2>
  
  <p>
    <p>转自:<a href="http://www.trinea.cn/android/java-android-thread-pool/">http://www.trinea.cn/android/java-android-thread-pool/</a></p>




<p>介绍 new Thread 的弊端及 Java 四种线程池的使用，对 Android 同样适用。本文是基础篇，后面会分享下线程池一些高级功能。</p>




<h3>1、new Thread 的弊端</h3>




<p>执行一个异步任务你还只是如下 new Thread 吗？</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// TODO Auto-generated method stub</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}).</span><span class="na">start</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>那你就 out 太多了，new Thread 的弊端如下：</p>




<ol>
<li>每次 new Thread 新建对象性能差。</li>
<li>线程缺乏统一管理，可能无限制新建线程，相互之间竞争，及可能占用过多系统资源导致死机或 oom。</li>
<li>缺乏更多功能，如定时执行、定期执行、线程中断。</li>
</ol>




<p>相比 new Thread，Java 提供的四种线程池的好处在于：</p>




<ol>
<li>重用存在的线程，减少对象创建、消亡的开销，性能佳。</li>
<li>可有效控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞。</li>
<li>提供定时执行、定期执行、单线程、并发数控制等功能。</li>
</ol>




<h3>2、Java 线程池</h3>




<p>Java 通过 Executors 提供四种线程池，分别为：
- newCachedThreadPool 创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</p>




<ul>
<li><p>newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</p></li>
<li><p>newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。</p></li>
<li><p>newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。</p></li>
</ul>




<h4>(1). newCachedThreadPool</h4>




<p>创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。示例代码如下：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">cachedThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newCachedThreadPool</span><span class="p">();</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">index</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">cachedThreadPool</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>线程池为无限大，当执行第二个任务时第一个任务已经完成，会复用执行第一个任务的线程，而不用每次新建线程。</p>




<h4>(2). newFixedThreadPool</h4>




<p>创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。示例代码如下：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">fixedThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="n">fixedThreadPool</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">// TODO Auto-generated catch block</span>
</span><span class='line'>                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>因为线程池大小为 3，每个任务输出 index 后 sleep 2 秒，所以每两秒打印 3 个数字。
定长线程池的大小最好根据系统资源进行设置。如 Runtime.getRuntime().availableProcessors()。可参考 PreloadDataCache。</p>




<h4>(3) newScheduledThreadPool</h4>




<p>创建一个定长线程池，支持定时及周期性任务执行。延迟执行示例代码如下：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ScheduledExecutorService</span> <span class="n">scheduledThreadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newScheduledThreadPool</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span class='line'><span class="n">scheduledThreadPool</span><span class="p">.</span><span class="na">schedule</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;delay 3 seconds&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">},</span> <span class="mi">3</span><span class="p">,</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>表示延迟 3 秒执行。</p>




<p>定期执行示例代码如下：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">scheduledThreadPool</span><span class="p">.</span><span class="na">scheduleAtFixedRate</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;delay 1 seconds, and excute every 3 seconds&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>表示延迟 1 秒后每 3 秒执行一次。
ScheduledExecutorService 比 Timer 更安全，功能更强大，后面会有一篇单独进行对比。</p>




<h4>(4)、newSingleThreadExecutor</h4>




<p>创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。示例代码如下：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">ExecutorService</span> <span class="n">singleThreadExecutor</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">();</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'>    <span class="n">singleThreadExecutor</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
</span><span class='line'>                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="c1">// TODO Auto-generated catch block</span>
</span><span class='line'>                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>结果依次输出，相当于顺序执行各个任务。
现行大多数 GUI 程序都是单线程的。Android 中单线程可用于数据库操作，文件操作，应用批量安装，应用批量删除等不适合并发但可能 IO 阻塞性及影响 UI 线程响应的操作。</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-17T11:05:00+08:00" pubdate data-updated="true">Jul 17<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/16/got-it/">Got It</a></h2>
  
  <p>
    <p>同意,知道了。</p>




<p>I understand. *“理解了”。</p>




<p>I can&rsquo;t go today. (今天我不能去。)</p>




<p>I understand. (知道了。)</p>




<p>I don&rsquo;t understand. (不能理解。)</p>




<p>I get it.</p>




<p>明白了吗?</p>




<p>See? *see “明白”、“知道”。</p>




<p>Do you see?</p>




<p>Do you understand?</p>




<p>Do you get it?</p>




<p>完全明白。</p>




<p>I understand very well.</p>




<p>Do you understand? (明白了吗?)</p>




<p>I understand very well. (完全明白。)</p>




<p>我想我懂了。</p>




<p>I think I understand.</p>




<p>我明白你说的了。</p>




<p>I see what you mean.</p>




<p>我太清楚那种事了。</p>




<p>I know that too well.</p>




<p>我明白你的意思。</p>




<p>I see your point.</p>




<p>I think we need to expand. (我认为我们必须再扩展。)</p>




<p>I see your point. (我明白你的意思。)</p>




<p>I see what you mean.</p>




<p>I understand what you mean.</p>




<p>That makes sense.</p>




<p>I get the point.</p>




<p>噢，我终于明白了。</p>




<p>I get it. *终于明白对方所说的事情。语感较随便。</p>




<p>If you change this, it will work. (如果你改变一下这个，它就能运作了。)</p>




<p>I get it. (噢，我终于明白了。)</p>




<p>I don&rsquo;t get it. (我还是不明白。)</p>




<p>这样啊，原来是这么回事。</p>




<p>I got it. *随意说法。</p>




<p>You see? (明白了吗?)</p>




<p>I got it. (这样啊，原来是这么回事。)</p>




<p>I see.</p>




<p>这点事儿我还是知道的。</p>




<p>I know that much! *表示“这点事儿我知道，别把我当傻瓜”。</p>




<p>原来是这样啊!</p>




<p>That solves it. *在对方指点下，问题、疑问得以完全解决。</p>




<p>I left because I didn&rsquo;t feel well. (因为不舒服，我回去了。)</p>




<p>That solves it. (原来是这样啊!)</p>




<p>Well, that solves that.</p>




<p>That&rsquo;s that. *比较随意的说法。</p>




<p>好吧，好吧，我知道了。</p>




<p>All right, all right. I understand. *被对方反复地嘱咐时的回答。</p>




<p>You have to change your attitude. (你得改变你的态度。)</p>




<p>All right, all right. I understand. (好吧，好吧，我知道了。)</p>




<p>我知道呀!</p>




<p>I know. *表示“无需对方解释，我很清楚”。</p>




<p>L.A. is in California. (洛杉矶在加利福尼亚州。)</p>




<p>I know. (我知道呀。)</p>




<p>I know that.</p>




<p>I know it.</p>




<p>I didn&rsquo;t know. (我怎么不知道。)</p>




<p>我认识那个人。</p>




<p>I know that person.</p>




<p>I&rsquo;m acquainted with that person.</p>




<p>我见过他。</p>




<p>I know him by sight. *know&hellip; by sight “知道，见过面”。</p>




<p>Do you know that man? (你认识那个人吗?)</p>




<p>No, but I know him by sight. (不认识，但我见过他。)</p>




<p>嗯，我听说了。</p>




<p>Yeah, I heard about it.</p>




<p>Jeff got married. (杰夫结婚了。)</p>




<p>Yeah, I heard about it. (啊，我听说了。)</p>




<p>Yeah, someone told me.</p>




<p>Yes, I&rsquo;ve been told.</p>




<p>Yeah, I know.</p>




<p>我听着呢。/我知道了。</p>




<p>I hear you. *对对方所说的事情表示“知道了”、“听到了”。</p>




<p>We have to work harder. (我们得更加努力地工作了。)</p>




<p>I hear you. (我听着呢。/我知道了。)</p>




<p>Yes, I understand.</p>




<p>我理解了。</p>




<p>I&rsquo;m following you. *向对方再一次表示“我懂了”。</p>




<p>So, do you get it? (怎么样?你理解了吗?)</p>




<p>I&rsquo;m following you. (理解了。)</p>




<p>I&rsquo;m with you.</p>




<p>I&rsquo;m following.</p>




<p>I&rsquo;m not following you. (我不明白你的意思。)</p>




<p>言之有理。</p>




<p>Makes sense. *认为所听到的事情“有道理”、“可以理解”时。</p>




<p>He got fired because he was lazy. (他因为懒，才被解雇了。)</p>




<p>Makes sense. (说得有道理。)</p>




<p>That makes sense.</p>




<p>Makes sense to me.</p>




<p>You&rsquo;re making sense.</p>




<p>That doesn&rsquo;t make sense. (这也太奇怪了。)</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-16T10:44:00+08:00" pubdate data-updated="true">Jul 16<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/15/dexguard-encrypt-asset-file/">Dexguard Encrypt Asset File</a></h2>
  
  <p>
    <p>-encryptassetfiles [file_filter]</p>




<p>Specifies the Android asset files that should be encrypted. Asset files are stored in the assets directory and can contain any data. The obfuscation step can automatically encrypt them and make sure they are decrypted on the fly at run-time. In order for this to work, the asset files must be streamed and their names must be hard-coded. This means that your code must invoke the AsssetManager as follows: open(&ldquo;MyAssetFile&rdquo;). Your configuration can then specify &ldquo;-encryptassetfiles assets/MyAssetFile&rdquo;. Only applicable when obfuscating Android code.</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-15T14:54:00+08:00" pubdate data-updated="true">Jul 15<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/14/aloe-blacc-hello-world/">Aloe Blacc - Hello World</a></h2>
  
  <p>
    <p><img src="/images/2014/07/aleo-blacc-hello-world.jpg" title="hello world" alt="HELLO WORLD" /><br/></p>




<p>[Verse]</p>




<p>Hello world, it&rsquo;s nice to meet you</p>




<p>I&rsquo;ve been waiting for this moment all my life</p>




<p>Hello world, the past is over</p>




<p>It&rsquo;s time for us to come together and make the future right</p>




<p>[Pre-Chorus]</p>




<p>I had an epiphany one night</p>




<p>Looking at the endless star-filled sky</p>




<p>[Chorus]</p>




<p>The world is ours</p>




<p>The world is ours</p>




<p>The world is ours</p>




<p>Seven billion stars</p>




<p>(We are we are we are we are)</p>




<p>(We are we are we are we are)</p>




<p>The world is ours</p>




<p>[Verse]</p>




<p>Hello world, the sun is rising</p>




<p>It doesn&rsquo;t matter who you are, the sun still sets the same</p>




<p>Hello world, undivided</p>




<p>Don&rsquo;t matter if you win or lose, it</p>




<p>[Chorus]</p>




<p>The world is ours</p>




<p>The world is ours</p>




<p>The world is ours</p>




<p>Seven billion stars</p>




<p>(We are we are we are we are)</p>




<p>(We are we are we are we are)</p>




<p>The world is ours</p>




<p>[Bridge]</p>




<p>From the sky to the sea to the air that we breathe</p>




<p>To the depths of the earth to the stars</p>




<p>The world is ours, all ours</p>




<p>The world is ours, all ours</p>




<p>[Chorus]</p>




<p>(We are we are we are we are)</p>




<p>(We are we are we are we are)</p>




<p>The world is ours</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-14T14:13:00+08:00" pubdate data-updated="true">Jul 14<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/14/gradle-build-tips/">Gradle Build Tips</a></h2>
  
  <p>
    <p>I&rsquo;m lazy. Hopefully you are too. Here&rsquo;s two small conveniences for the Gradle build system you might find useful:</p>




<p>Decomposed Version Name and Code</p>




<p>Break up your version into its logical components and manage them separately. Stop wondering if you&rsquo;ve bumped the version code correctly or updated the version name properly.</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def versionMajor = 3
</span><span class='line'>def versionMinor = 0
</span><span class='line'>def versionPatch = 0
</span><span class='line'>def versionBuild = 0 // bump for dogfood builds, public betas, etc.
</span><span class='line'>
</span><span class='line'>android {
</span><span class='line'>  defaultConfig {
</span><span class='line'>    versionCode versionMajor * 10000 + versionMinor * 1000 + versionPatch * 100 + versionBuild
</span><span class='line'>    versionName &ldquo;${versionMajor}.${versionMinor}.${versionPatch}&rdquo;
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure></p>

<p>If you have more than 10 patch or minor versions you have other problems. 10 builds? Unlikely, but we&rsquo;ve got a whole int32 to work with here so why not&hellip;</p>




<p>A More Useful BuildConfig</p>




<p>Build config is FINALLY ours to add to. Leverage it for constant information that might otherwise require a Context to obtain.</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def gitSha() {
</span><span class='line'>  return &lsquo;git rev-parse &ndash;short HEAD&rsquo;.execute().text.trim()
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>def buildTime() {
</span><span class='line'>  def df = new SimpleDateFormat(&ldquo;yyyy-MM-dd&rsquo;T'HH:mm'Z'&rdquo;)
</span><span class='line'>  df.setTimeZone(TimeZone.getTimeZone(&ldquo;UTC&rdquo;))
</span><span class='line'>  return df.format(new Date())
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>android {
</span><span class='line'>  defaultConfig {
</span><span class='line'>    buildConfig &ldquo;&rdquo;&ldquo;\
</span><span class='line'>      public static final String GIT_SHA = &rdquo;${gitSha()}&ldquo;;
</span><span class='line'>      public static final String BUILD_TIME = &rdquo;${buildTime()}&ldquo;;
</span><span class='line'>    &rdquo;&ldquo;&rdquo;
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure></p>

<p>And if you think BuildConfig is currently under-utilized, you&rsquo;re right. Let&rsquo;s get more utility into it! Vote @ <a href="http://b.android.com/59302">http://b.android.com/59302</a></p>




<p>Since Gadle 1.9</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> buildConfigField &ldquo;String&rdquo; , &ldquo;GIT_SHA&rdquo; ,&ldquo;\&rdquo;${gitSha()}\&ldquo;&rdquo;
</span><span class='line'> buildConfigField &ldquo;String&rdquo;,&ldquo;BUILD_TIME&rdquo;,&ldquo;\&rdquo;${buildTime()}\&ldquo;&rdquo;</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-14T10:42:00+08:00" pubdate data-updated="true">Jul 14<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/13/android-photoshop-export/">Android Photoshop Export</a></h2>
  
  <p>
    <p>[脑补一下]：</p>




<ol>
<li>什么是 Photoshop Action？</li>
</ol>




<p>[答]：Photoshop Action 是从 Photoshop 4.0 开始出现的，它就好比是 Dos 里面的批处理文件，或者 Word 中的宏。它可以把 Photoshop 中每一个操作步骤记录下来然后反复使用，或者存成独立的文件供大家分享。</p>




<ol>
<li>如何安装及使用 Photoshop Action？</li>
</ol>




<p>[答]：打开 Photoshop，选中“窗口—动作”菜单，打开选中“动作”面板。</p>




<p>Here we go!</p>




<p>下载下面两个任意一个 action 脚本，基本一样，只是一个从小到大，一个从大到小。</p>




<p><a href="http://www.inpixelitrust.fr/blog/en/android-photoshop-action-export-mdpi-hdpi-xhdpi-xxhdpi-xxxhdpi/">http://www.inpixelitrust.fr/blog/en/android-photoshop-action-export-mdpi-hdpi-xhdpi-xxhdpi-xxxhdpi/</a></p>




<p><a href="http://blog.mready.net/2013/07/dg-photoshop-action-dpi-resizing/">http://blog.mready.net/2013/07/dg-photoshop-action-dpi-resizing/</a></p>




<p>双击导入到 photoshop, 窗口-动作，找到刚刚导入的 Action,运行即可。</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-13T02:04:00+08:00" pubdate data-updated="true">Jul 13<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/12/sublime-text-plugin-text-pastry/">Sublime Text 2 Plugin - Text Pastry</a></h2>
  
  <p>
    <p>新技能 get</p>




<p>关于 Sublime Text2 的简洁优雅，不做赘述。</p>




<p><a href="https://github.com/duydao/Text-Pastry">Text-Pastry</a> 让 Sublime Text 2 如虎添翼。</p>




<h3>DEMO1</h3>




<h4>From:</h4>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>aaa
</span><span class='line'>bbb
</span><span class='line'>ccc
</span><span class='line'>ddd
</span><span class='line'>eee</span></code></pre></td></tr></table></div></figure></p>

<h4>To:</h4>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1. aaa
</span><span class='line'>2. bbb
</span><span class='line'>3. ccc
</span><span class='line'>4. ddd
</span><span class='line'>5. eee</span></code></pre></td></tr></table></div></figure></p>

<h4>TODO</h4>




<p>（快捷键基于 Mac OS，Windows 上略有区别）</p>




<ol>
<li><p>选中多行</p></li>
<li><p><code>CMD</code>+<code>SHIFT</code>+<code>L</code>进入多行编辑模式</p></li>
<li><p>把多个光标同时移动到每行的最前面</p></li>
<li><p><code>CMD</code>+<code>ALT</code>+<code>T</code>  进入 Text Pastry 命令输入模式</p></li>
<li><p>选择 \i 回车</p></li>
<li><p>1-5 的标号已经加上，输入. (空格)</p></li>
<li><p>DONE</p></li>
</ol>




<h3>DEMO2</h3>




<h4>From:</h4>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span></span><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;apps&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.htc.fm&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;FM 收音机&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.htc.android.mail&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;邮件&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.qq.qcloud&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;微云&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<h4>To:</h4>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span></span><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;apps&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;c9e968cc-d122-4162-a502-874cdcfa470c&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.htc.fm&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;FM 收音机&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;4fba9716-29bf-4c06-b22e-75d59622703f&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.htc.android.mail&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;邮件&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;6c3f911a-318b-4aad-82d6-c5f183d8ca00&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;bundle_id&quot;</span><span class="p">:</span> <span class="s2">&quot;com.qq.qcloud&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;微云&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<h4>TODO</h4>




<p>目测在每个数据里面加个 uuid 这种需求不会在代码外去实现 :）
但类似的应该会有，如何秒杀是关键。如果够熟练，估计只需十几秒，即使有上百条数据</p>




<ol>
<li><p><code>CMD</code>+<code>F</code> 搜索 &ldquo;bundle_id&#8221;，少量也可<code>CMD</code>+<code>D</code></p></li>
<li><p><code>ALT</code>+<code>ENTER</code> 选中所有”bundle_id“，并进入多行同时编辑模式</p></li>
<li><p><code>CMD</code>+<code>SHIFT</code>+<code>ENTER</code> 在改行上面插入一空行，多行同时输入&#8221;uuid&#8221;: &ldquo;&rdquo;,让光标在&#8221;&ldquo;中</p></li>
<li><p><code>CMD</code>+<code>ALT</code>+<code>T</code>  进入 Text Pastry 命令输入模式</p></li>
<li><p>选择 \uuid(old)或 uuid(new) 回车</p></li>
<li><p>uuid 已经加上，一直末尾,输入,</p></li>
<li><p>DONE</p></li>
</ol>




<p><a href="https://github.com/duydao/Text-Pastry#readme">More Info</a></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-12T16:27:00+08:00" pubdate data-updated="true">Jul 12<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/11/android-application-class-being-called-twice/">Android Application Class Being Called Twice</a></h2>
  
  <p>
    <p><a href="http://stackoverflow.com/questions/3947052/android-application-class-being-called-twice">http://stackoverflow.com/questions/3947052/android-application-class-being-called-twice</a></p>




<p>Yes if you used android:process then you have it running in a separate process, so when the service starts a new process is started for it and thus a new Application object for that process needs to be created.</p>




<p>But there is a more fundamental problem &ndash; it is just not right for an Application object to start one of its services. It is important that you don&rsquo;t confuse Application with how you may think of an &ldquo;application&rdquo; in another OS. The Application object does not drive the app. It is just a global of state for the app in that process. In fact, the Application object is completely superfluous &ndash; you never need one to right an Android application. Generally I actually recommend that people don&rsquo;t use it. It is more likely to cause trouble than anything else.</p>




<p>Another way to put this: what really defines an application is its collection of activity, service, receiver, and provider tags. Those are what are &ldquo;launched.&rdquo; All an Application is, is something that is created as part of initializing an application&rsquo;s process. It has no lifecycle of its own, it is just there to serve the other real components in the app.</p>




<p>So just ignore Application when designing your app; it will reduce confusion. (In its place, I prefer to use global singletons for such state.)</p>




<p>Also as a general rule, I recommend not using android:process. There are certainly some uses for it, but the vast majority of the time it is not needed and just makes an application use more RAM, less efficient, and harder to write (since you can&rsquo;t take advantage of globals in a single process). It should be obvious to you if you reach a place where there is actually a good reason to use android:process.</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-11T17:50:00+08:00" pubdate data-updated="true">Jul 11<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/11/learn-english-4/">Learn English (4)</a></h2>
  
  <p>
    <h4>1</h4>




<p>很多出国留学的同学在毕业之前面临的一个很大的问题就是：是留在国外还是回到国内？</p>




<p>今天我们的节目请到了一位海归 Vivian 来谈谈她当时的择业经历。</p>




<p>如果有任何海归找工作的问题都欢迎给我们留言哦！</p>




<ol>
<li><p>returnee  海归</p></li>
<li><p>Ireland  爱尔兰</p></li>
<li><p>accent  口音</p></li>
<li><p>foundation program  预科</p></li>
<li><p>major  专业</p></li>
<li><p>marketing  市场营销</p></li>
<li><p>homesick  想家，乡愁</p></li>
<li><p>job hunting  找工作</p></li>
<li><p>resume  简历</p></li>
<li><p>job site  招聘网站</p></li>
<li><p>cover letter  求职信</p></li>
<li><p>proactive  积极主动</p></li>
<li><p>corporate communication  企业传播</p></li>
<li><p>internal  内部的</p></li>
<li><p>receptionist  前台</p></li>
</ol>




<p> </p>




<h4>2</h4>




<p>美国独立日&ndash;潘吉 Jenny 告诉你</p>




<p>你知道美国国庆时几月几号吗？你知道美国国庆为什么叫“独立日”吗？你知道，美国人怎么庆祝国庆吗？赶快听听今天的节目吧！</p>




<p> </p>




<ol>
<li><p>Independence Day  独立日</p></li>
<li><p>4th of July  7 月 4 号</p></li>
<li><p>I&rsquo;m glad you could make it.  你能来我真是太高兴了。</p></li>
</ol>




<p>4. I&rsquo;ve never been to a celebration for the 4th of July 我从来没有参加过 7 月 4 日的庆祝活动。</p>




<p>5. national holiday  国定假日</p>




<ol>
<li>the founding fathers  建国元勋</li>
</ol>




<p>7. the Declaration of Independence  《独立宣言》</p>




<ol>
<li>Independence Day is a national holiday to remember when the founding fathers of the United States signed the Declaration of Independence to separate from Great Britain.真的吗？独立日这个全国假日是为了纪念美国的建国元勋签署《独立宣言》，从大不列颠独立的事件。</li>
</ol>




<p>9. parade  游行</p>




<p>10. picnic  野餐</p>




<p>11. fireworks display  烟火表演</p>




<p>12. I&rsquo;m looking forward to seeing that.  我很期待见识这一切。</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-11T10:33:00+08:00" pubdate data-updated="true">Jul 11<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/08/android-studio-tips-quick-surround-with-try-slash-catch-if-else-dot/">QUICK SURROUND WITH (TRY/CATCH, if ELSE..)</a></h2>
  
  <p>
    <p>When you want to catch exceptions thrown by some code fragment, select it in the
editor, press</p>




<blockquote><p>Ctrl+Alt+T</p></blockquote>




<p>(Code | Surround With) and choose try / catch. The catch blocks for all the exceptions thrown inside the block will be generated automatically.</p>




<p>You can customize the bodies of the generated catch blocks on the Code tab of File | Settings | File Templates.</p>




<p>Use other items in the list to surround with other constructs.<br/></p>




<p><img src="/images/2014/07/surround.png" alt="" /><br/></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-08T12:05:00+08:00" pubdate data-updated="true">Jul 8<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/05/layout-inflationbu-neng-zhe-yao-yong/">[转] Layout Inflation不能这么用</a></h2>
  
  <p>
    <p>转自：<a href="http://blog.jobbole.com/72156/">http://blog.jobbole.com/72156/</a></p>




<p>Layout inflation 在 Android 上下文环境下转换 XML 文件成 View 结构对象的时候需要用到。</p>




<p>LayoutInflater 这个对象在 Android 的 SDK 中很常见，但是你绝对没想到竟然能够找到一个使用误区。说不定你的 App 里就是这么用的！如果你在写 APP 的时候像如下代码一样使用 LayoutInflater 的话：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">inflater</span><span class="p">.</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">my_layout</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>请你继续读完这篇文章，稍后我会解释为什么这样做不对。</p>




<h3>认识 LayoutInflater</h3>




<p>首先看一下 LayoutInflater 的工作原理，有两个重载的版本可以使用：</p>




<p>inflate(int resource, ViewGroup root) 和 inflate(int resource, ViewGroup root, boolean attachToRoot)</p>




<p>第一个参数指出要载入的布局文件资源，第二个参数指出视图结构中载入的布局将要放入的根视图。如果有第三个参数，那么它用来决定是否把载入后的视图绑定到给出的根视图中。</p>




<p>最后两个参数可能会导致一些问题。如果使用两个参数的版本，Layoutinflater 会自动尝试把载入的视图绑定到给定的根视图对象中。但是，如果你传递 null，系统就不会尝试绑定操作了，否则应用程序就崩溃了。</p>




<p>很多开发者会这样做，认为传递 null 作为根视图就可以禁用绑定操作了。很多时候很多开发者甚至不知道还有三个参数的 Layoutinflater 版本的存在，如果这么做的话，也会同时禁用了根视图的一个很重要的函数……但是之前我没有研究过。</p>




<h3>框架中的示例</h3>




<p>现在我们来仔细看看 Android 框架关于动态载入布局的场景。</p>




<p>Adapter 是最常用的场景，我们经常需要使用 LayoutInflater 来自定义 ListView（通过重写 getView()方法），具体的方法签名是这样的：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">getView</span><span class="p">(</span><span class="kt">int</span> <span class="n">position</span><span class="p">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="p">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Fragment 也会用到 inflation 操作，通过 onCreateView()方法创建 view 的时候会用到。这个方法的签名是这样的：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">onCreateView</span><span class="p">(</span><span class="n">LayoutInflater</span> <span class="n">inflater</span><span class="p">,</span> <span class="n">ViewGroup</span> <span class="n">container</span><span class="p">,</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>不知你有没有注意到这一点，每次 Framework 需要你去载入一个布局文件时，都会传入一个 ViewGroup 参数（最后需要绑定到的根视图），如果 Layoutinflater 设为自动绑定到根视图的话，会抛出一个异常。</p>




<p>所以你想想看，如果我做绑定操作的话，为什么要给你一个 ViewGroup 参数呢？事实证明父视图在这个 inflation 操作过程中是很重要的，它会计算被载入的 XML 在根元素中的 LayoutParams，如果传入 null 话，就等于是告诉框架“我不知道载入的 View 要放到哪个父视图中”。</p>




<p>问题在于，android:layout_xxx 属性会在父视图对象中被重新计算，结果就是所有你定义的 LayoutParams 都会被忽略掉（因为没有已知的父视图对象）。然后你就纳闷“为什么框架会忽略掉我自己定义的布局属性呢？还是去 StackOverFlow 上看看，提一个 bug 吧”。</p>




<p>如果没有设置 LayoutParams，那么最终 ViewGroup 也会给你生成一个默认的属性，幸运的话（很多时候），这些默认的设置正好和你在 XML 文件中定义的一样……所以你就察觉不到其实已经出现问题了。</p>




<h3>应用案例</h3>




<p>你敢说你没有在应用中碰到过这样的场景吗？看看下面的代码，为 Listview 简单地载入一个布局文件：</p>




<p>R.layout.item_row</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span></span><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;<a href="http://schemas.android.com/apk/res/android&amp;quot;">http://schemas.android.com/apk/res/android&amp;quot;</a></span>
</span><span class='line'>    <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>    <span class="na">android:layout_height=</span><span class="s">&quot;?android:attr/listPreferredItemHeight&quot;</span>
</span><span class='line'>    <span class="na">android:gravity=</span><span class="s">&quot;center_vertical&quot;</span>
</span><span class='line'>    <span class="na">android:orientation=</span><span class="s">&quot;horizontal&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;TextView</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/text1&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
</span><span class='line'>        <span class="na">android:paddingRight=</span><span class="s">&quot;15dp&quot;</span>
</span><span class='line'>        <span class="na">android:text=</span><span class="s">&quot;Text1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;TextView</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/text2&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;0dp&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
</span><span class='line'>        <span class="na">android:layout_weight=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>        <span class="na">android:text=</span><span class="s">&quot;Text2&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/LinearLayout&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>这里我们想把高度设置为固定高度，上面把它设为当前主题下的推荐高度……看似很合理。</p>




<p>但是，当我们这样载入布局文件的时候，就不对了：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="p">(</span><span class="kt">int</span> <span class="n">position</span><span class="p">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="p">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">convertView</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">convertView</span> <span class="o">=</span> <span class="n">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_row</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">convertView</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>然后结果就变成这样了：</p>




<p><img src="/images/2014/07/image-1.png" alt="" /><br/></p>




<p>为什么设定的固定高度不起作用？这是因为你没有把所有子 View 的高都设为固定高度，只需要把根视图的高设置成 wrap_content 就可以了。不需要知道为什么会这样（你可以吐槽一下 Google 为什么这么处理！）。</p>




<p>而如果这样载入布局的话就没有问题：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="p">(</span><span class="kt">int</span> <span class="n">position</span><span class="p">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="p">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">convertView</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">convertView</span> <span class="o">=</span> <span class="n">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_row</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">convertView</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>这样我们就得到了想要的结果：</p>




<p><img src="/images/2014/07/image-2.png" alt="" /><br/></p>




<h3>任何规则都有例外</h3>




<p>当然，也有需要在载入布局的时候指定 null 作为父布局对象，但这种情况非常少。一个典型的例子就是为 AlertDialog 中载入一个自定义布局。看看下面的例子，使用和上面一样的 XML 布局文件来作为对话框的布局：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span></span><span class="n">AlertDialog</span><span class="p">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlertDialog</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
</span><span class='line'><span class="n">View</span> <span class="n">content</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_row</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">builder</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;My Dialog&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">builder</span><span class="p">.</span><span class="na">setView</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
</span><span class='line'><span class="n">builder</span><span class="p">.</span><span class="na">setPositiveButton</span><span class="p">(</span><span class="s">&quot;OK&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'><span class="n">builder</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>这里的问题就是，AlertDialog.Builder 支持自定义布局，但是 setView()方法不提供带有布局文件作为参数的版本，所以只能先手动载入 XML 布局文件。由于最终会进入到对话框里面，不会接触到根布局（事实上这时候还没有根布局），所以我们也操作不了布局文件的最终父视图对象，当然也就不能用于载入使用了。事实证明，这些都是无关紧要的，因为 AlertDialog 会擦除布局上的所有 Layoutparams 然后替换为 match_parent。</p>




<p>所以，下次使用 inflate()函数时，如果还想输入 null 应该停下来想一想“我真的不知道它该放到哪里吗？”</p>




<p>最后，你应该想想两个参数的 inflate()版本作为一个便捷的使用方式，可以忽略第三个参数（默认为 true），但是不要想着为了方便而传递一个 null 却忽略了第三个参数会默认是 false。</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-05T15:27:00+08:00" pubdate data-updated="true">Jul 5<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/05/python-notes/">Python Notes</a></h2>
  
  <p>
    <iframe src="//www.slideshare.net/slideshow/embed_code/3881323" width="597" height="486" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>




<p> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/hongqn/qcon2010-3881323" title="Python 于 Web 2.0 网站的应用 - QCon Beijing 2010" target="_blank">Python 于 Web 2.0 网站的应用 - QCon Beijing 2010</a> </strong> from <strong><a href="http://www.slideshare.net/hongqn" target="_blank">Qiangning Hong</a></strong> </div></p>




<iframe src="//www.slideshare.net/slideshow/embed_code/6442300" width="597" height="486" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>




<p> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/wilhelmshen/py-art" title="Python 编程艺术" target="_blank">Python 编程艺术</a> </strong> from <strong><a href="http://www.slideshare.net/wilhelmshen" target="_blank">wilhelmshen</a></strong> </div></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-05T13:42:00+08:00" pubdate data-updated="true">Jul 5<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/python/'>python</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/04/smile-in-english/">Smile in English</a></h2>
  
  <p>
    <p>关于“笑”的英文词汇大集合</p>




<ul>
<li>burst into laughter 突然大笑</li>
<li>crack a smile 展颜微笑，莞尔一笑</li>
<li>explode with laughter 哄堂大笑</li>
<li>force a smile 强作欢颜</li>
<li>burst into gales of laughter 爆发出阵阵笑声</li>
<li>grin with delight 高兴的咧嘴而笑</li>
<li>a hearty burst of laughter 一阵爽朗的欢笑</li>
<li>in stitches 笑不可支</li>
<li>laugh at 嘲笑</li>
<li>laugh it off 一笑而过</li>
<li>laughingstock 笑料；笑柄</li>
<li>laugh in the breeze 迎风欢笑* laugh oneself to death 差点没笑死</li>
<li>laugh people around into a better humour 笑得周围的人心情好起来</li>
<li>laugh a hearty laugh 放声大笑，开怀大笑</li>
<li>laugh and grow fat 心宽体胖</li>
<li>roars of laughter 大笑声</li>
<li>a saccharine smile 谄笑，谄媚的笑</li>
<li>roll in the aisles 乐不可支，笑得东倒西歪</li>
<li>scream with laughter 笑得前仰后合</li>
<li>snicker 窃笑</li>
<li>snort（讽刺、轻蔑地）高声大笑</li>
<li>shriek with laughter 尖声狂笑</li>
<li>smile shyly 羞嗒嗒地微笑</li>
<li>beam with smiles 笑容满面；笑逐颜开</li>
<li>be all smiles 笑容满面, 喜气洋洋</li>
<li>toothpaste smile [美口]牙膏广告上露出皓齿的微笑</li>
<li>simmer with laughter 忍俊不禁</li>
<li>smile on sb. 朝某人微笑</li>
<li>smirk 傻笑；假笑</li>
<li>smile bitterly 苦笑</li>
<li>giggle 咯咯地笑</li>
<li>grin 咧嘴而笑</li>
<li>grin from ear to ear 嘴咧得大大地笑</li>
<li>chuckle 轻声笑；咯咯笑</li>
</ul>




<p>拟声词</p>




<ul>
<li>Argh! 表示极度的沮丧和失望.</li>
<li>Ah! 羡慕，满意</li>
<li>Aha! 满意，愉快，胜利</li>
<li>Ahem! 唤起注意</li>
<li>Alas! 遗憾，悲痛，不幸</li>
<li>Bah! 轻蔑，厌恶</li>
<li>Brrr! 寒冷</li>
<li>Blech! 吃到或 看到一些另人反感的东西时的反应.</li>
<li>Blah! 咳!表示不喜欢,不赞成.</li>
<li>Boom! 碰!形容巨响.</li>
<li>Crash! 哗啦一声,形容物体相撞的声音.</li>
<li>Darn!(Darn it!) 愤怒，失望</li>
<li>Eek! 唷! 表示恐惧.</li>
<li>Eww! 呦!尝到,闻到或看到令人反感的东西时的反应.</li>
<li>For goodness sake! 惊奇，害怕</li>
<li>Gad! 惊奇，不赞同</li>
<li>Gee! 惊奇，赞美</li>
<li>God!(Good god! Great God! 惊奇，恐惧</li>
<li>Geez! 天哪.表示气愤和难以置信.此为感叹词 Jesus 的委婉说法.</li>
<li>Gosh! 哎呀!表惊讶.</li>
<li>Grrrrr! 格噜..表示生气的幽默用法.是幽默地模仿了动物被激怒时发出的声音.</li>
<li>Gulp! 不好!糟了!表示坏事即将发生.说这个词时,通常很小声.</li>
<li>Good gracious! 惊奇，恼怒</li>
<li>Goodness! 惊奇，害怕，恼怒</li>
<li>Hi (嗨)</li>
<li>Hush (嘘)</li>
<li>Hem (哼)</li>
<li>Heaven forbid! 惊奇，害怕</li>
<li>Heaven help me! 惊奇，害怕</li>
<li>(Good) Heavens! 惊奇，害怕</li>
<li>Help! 求助</li>
<li>Hey! 惊奇，喜悦，疑问，或唤起注意</li>
<li>Hmmm! 思考</li>
<li>Ho(a)! 惊奇，满足，喜悦或唤起注意</li>
<li>I-I-I-I-I! 呀呀&hellip;&hellip;..!难以置信.读作: eye-y&#8217;eye-y&#8217;eye-y&#8217;eye-y&#8217;eye!</li>
<li>I’ll be darned! 惊奇</li>
<li>Jesus(Christ)! 不满意，失望，痛苦，惊恐</li>
<li>Kaboom! 轰!砰!表突然发生的爆炸声.</li>
<li>Look out! 警告</li>
<li>Mmmm! 品尝满意</li>
<li>Mercy! 惊奇</li>
<li>Mercy me! 惊奇</li>
<li>My! 惊奇，羡慕</li>
<li>My,my! 惊奇</li>
<li>My goodness! 惊奇，害怕</li>
<li>My word! 惊奇</li>
<li>Ow! 哎哟!表示疼痛.</li>
<li>Oh! 惊奇，诧异，害怕，疼痛</li>
<li>Oh, boy! 激动，惊奇，惊喜（男女都可说）</li>
<li>Oh, dear! 惊奇</li>
<li>Oh,my! 惊奇，羡慕</li>
<li>Oh, no! 害怕，惊奇，失望</li>
<li>Oho! 惊奇</li>
<li>Oh-oh! 遇到不顺心的事</li>
<li>Ouch 疼痛</li>
<li>Ow! 疼痛</li>
<li>Oh, well! 无可奈何</li>
<li>Pew ! 呦!表示味道难闻.</li>
<li>Phew! 咳!表示极度焦虑之后,如释重负.</li>
<li>Piuck! 呦!尝到,闻到或看到令人反感的东西时的反应.</li>
<li>Pow! 啪!砰!形容突然的袭击.</li>
<li>Psst! 唤起注意</li>
<li>Say! 唤起注意，或想起什么</li>
<li>Shit! 愤怒，厌恶，沮丧</li>
<li>Sigh! 唉!咳!表示无奈和失望. 说的时候,轻轻的，无可奈何的!</li>
<li>Smash! 哗啦!形容物体猛烈撞击,造成破碎或损坏.</li>
<li>Thwack! 啪!形容物体相撞发出急促的声音,但没有造成破损.打耳光就可以用这个滴.呵呵.</li>
<li>Thank God! 宽慰，感谢</li>
<li>Thank goodness! 感谢</li>
<li>Tsk-tsk! 不赞同</li>
<li>Tut-tut! 不满，不耐烦</li>
<li>Ugh! 厌恶</li>
<li>Unbelievable! 惊讶</li>
<li>Wham! 砰!描述快速移动的物体突然撞击在景致的物体上时所发出的声音.</li>
<li>Whew! 表示经理极度焦虑后的极大安慰.</li>
<li>Whoa! 嘿!嘿!用于阻止对方的行动.</li>
<li>Whoops! 嗨!突然想起要做某事</li>
<li>oops! 哎呀!表示发生意外. 撞到别人时可以用哦.</li>
<li>Whoosh! 呼的医生,嗖的一声.描述物体快速移动发出的声音.</li>
<li>Watch it! 警告</li>
<li>Watch out! 警告</li>
<li>Well! 惊奇，宽慰</li>
<li>Well, I never! 惊奇，愤怒</li>
<li>Well,well! 惊奇</li>
<li>Whoopee! 高兴</li>
<li>Wow! 诧异，惊讶，羡慕，快乐</li>
<li>Yike! 啊呀!哇!表示惊讶和关切!</li>
<li>Yipe! 同上.</li>
<li>Yuck 呸!呦!尝到,闻到或看到令人反感的东西时的反应.</li>
<li>Yum! 表示刺激食欲!</li>
<li>Zap! 嚓!表示突如起来的快速袭击.</li>
<li>Zowie! 啪!表示殴打.</li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-04T12:06:00+08:00" pubdate data-updated="true">Jul 4<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/04/android-sdk-add-on-configure-compile-and-relelease/">Android SDK Add-on Configure, Compile and Relelease</a></h2>
  
  <p>
    <p>转自：<a href="http://www.poemcode.net/2010/09/android-sdk-addon/">http://www.poemcode.net/2010/09/android-sdk-addon/</a></p>




<p>SDK Add-on 是一个比较小众的话题，一是通常厂商不会公开自己的 add-on，二是即便公开了，应用开发者也很少使用。所以通常是厂商自己的技术团队自娱自乐，框架团队抽取公用的控件，制成一个 add-on，然后公布给自家的应用程序开发团队。</p>




<p>由于是小众的，所以网络中关于这方面的资料比较少。这几天由于工作原因，我有幸接触到 Add-on，因此把这方面的知识进行了汇总，整理成如下内容。这些知识来自于我对 sample 示例的理解，并经过项目实践验证，我竭力保证无误，但差错之处也可能存在，如发现，请指正。</p>




<p>以下内容将分成若个步骤：</p>




<ol>
<li>添加模块；</li>
<li>添加资源文件；</li>
<li>加入编译脚本；</li>
<li>发布；</li>
</ol>




<p>在阅读下面内容前，先假设是对 $ANDROID_HOME/device/sample 进行修改。</p>




<h4>一、添加模块（Add Module）</h4>




<p>在自己 <em>product-name</em> 目录下建立 frameworks 文件夹，从 sample 中拷贝 Android.mk 文件到 frameworks。</p>




<p>依照 sample 的方式，在 frameworks 路径下，建立 PlatformLibrary 文件夹，再次从 sample/frameworks 中拷贝 Android.mk 文件，并将其中的 LOCAL_MODULE 和 LOCAL_DROIDDOC_OPTIONS 修改为自己中意的名字。–这里值得注意的是，LOCAL_MODULE 变量被定义两次，第一次是 library，第二次是 document。</p>




<p>依照 sample/frameworks/com.example.android.platform_library.xml 的形式创建自己的 XML 文件，文件名称、XML 内容中 name 和 file 保持和 LOCAL_MODULE(library) 一致。</p>




<p>完成上述操作之后，建立 java 文件夹，并将自己创建的源文件（java）放入到其中，这里不再赘述。</p>




<h4>二、添加 Overlay(Add Resoruce)</h4>




<p>代码中可能需要访问图片、字符串等资源，但是这些在原有的 Android 中没有，因此需要想办法自行加入，Android 对此提供了两种方式。</p>




<p>第一种就是直接在 $ANDROID_HOME/framework/base/core/res/res 下进行操作，添加文件，追加字符串。这种方式虽然简单，但是破坏了原有的“纯洁性”，因此不予推荐，在第三节修改编译脚本中我采用了第二种方式。</p>




<p>第二种方式就是使用 overlay。在 product-name 目录下建立 overlay 文件夹，依照 framework 的结构建立各级目录，例如想添加图片，可以先依次建立 base/core/res/res/drawable，然后将图片置于其中，同样可以建立 layout 等文件夹。</p>




<p>如果要添加字符串或者 style 资源，就要稍微复杂一点，需要使用 add-resource 来让系统“明白”新添加的内容。</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='XML'><span class='line'><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;resources</span> <span class="na">xmlns:xliff=</span><span class="s">&quot;urn:oasis:names:tc:xliff:document:1.2&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;add-resource</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">name=</span><span class="s">&quot;numwheel_year&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="c">&lt;!&ndash; Strings for number wheel &ndash;&gt;</span>
</span><span class='line'>    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;numwheel_year&quot;</span><span class="nt">&gt;</span>年<span class="nt">&lt;/string&gt;</span>
</span><span class='line'><span class="nt">&lt;/resources&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>如果没有 add-resource，则会遇到这样的信息：</p>




<p>完了以后，就可以用使用 <code>com.android.internal.R</code> 来访问这些资源了。</p>




<h4>三、加入编译脚本（Add build script）</h4>




<p>在自己 product-name 目录下建立 sdk_addon 文件夹，并依照 sample/sdk_addon 分别拷贝 manifest.xml 和 hardware.xml，注意 manifest.xml 中的内容必须要根据之前第一步的变更同步修改。</p>




<p>接下来最关键，也是最容易出错的环节到了，那就是修改自己 product 的 mk 文件，需要修改 PRODUCT_PACKAGES、PRODUCT_COPY_FILES、DEVICE_PACKAGE_OVERLAYS 的值，定义 PRODUCT_SDK_ADDON_NAME、PRODUCT_SDK_ADDON_COPY_FILES、PRODUCT_SDK_ADDON_COPY_MODULES 和 PRODUCT_SDK_ADDON_DOC_MODULE。修改和定义的区别就在于，前者使用”+=”，后者使用“:=”。这些变量的值可以参照 sample 示例。</p>




<p>由于 sample 的示例中没有出现 DEVICE_PACKAGE_OVERLAYS，所以我这里特别解释一下它的作用，除了刚才为 add-on 增加资源以外，它还起到的作用就是替换掉原来的 framework 中的资源，比如图片等等，惟一的要求就是必须建立和原来图片位置相同的路径。和 add-on 不同的是，如果你是替换原来资源，那么是不用 add-resource 的。DEVICE_PACKAGE_OVERLAYS 的值就是 overlay 文件夹的路径，不包含 $ANDROID_HOME，到 overlay 一级即可。</p>




<p>完成了修改以后，使用 make PRODUCT-product-name-sdk_addon 进行编译。当然也可以直接执行 make sdk_addon，但是需要注意在此之前，你需要使用 chooseproduct 指定 product-name。执行完毕以后，会得到一个 zip 文件，这个就是 add-on 了。</p>




<h4>四、发布（Relase）</h4>




<p>完成上面的环节以后，剩下临门一脚了。所谓发布，就是通过诸如 HTTPD 一类的 HTTP SERVER 将资源公布出去。从 <a href="http://httpd.apache.org">http://httpd.apache.org</a> 下载 httpd，如何安装以及修改监听端口可参看其 document，在此不予赘述。</p>




<p>现在把刚才生成的 zip 文件，放置到 htdoc 目录下。并且创建一个 repository.xml，其内容和形式参看
<a href="https://dl-ssl.google.com/android/repository/repository.xml">https://dl-ssl.google.com/android/repository/repository.xml</a> ，我把它删减一下得到以下内容：</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='XML'><span class='line'><span></span><span class="nt">&lt;sdk:sdk-repository</span>
</span><span class='line'>    <span class="na">xmlns:xsi=</span><span class="s">&quot;<a href="http://www.w3.org/2001/XMLSchema-instance&amp;quot;">http://www.w3.org/2001/XMLSchema-instance&amp;quot;</a></span>
</span><span class='line'>    <span class="na">xmlns:sdk=</span><span class="s">&quot;<a href="http://schemas.android.com/sdk/android/repository/2&amp;quot;">http://schemas.android.com/sdk/android/repository/2&amp;quot;</a></span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;sdk:add-on&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:name&gt;</span>Google APIs<span class="nt">&lt;/sdk:name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:api-level&gt;</span>3<span class="nt">&lt;/sdk:api-level&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:vendor&gt;</span>Google Inc.<span class="nt">&lt;/sdk:vendor&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:revision&gt;</span>03<span class="nt">&lt;/sdk:revision&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:description&gt;</span>Android + Google APIs<span class="nt">&lt;/sdk:description&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:desc-url&gt;</span><a href="http://developer.android.com/">http://developer.android.com/</a><span class="nt">&lt;/sdk:desc-url&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:uses-license</span> <span class="na">ref=</span><span class="s">&quot;android-sdk-license&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:archives&gt;</span>
</span><span class='line'>            <span class="nt">&lt;sdk:archive</span> <span class="na">os=</span><span class="s">&quot;any&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;sdk:size&gt;</span>34908058<span class="nt">&lt;/sdk:size&gt;</span>
</span><span class='line'>                <span class="nt">&lt;sdk:checksum</span> <span class="na">type=</span><span class="s">&quot;sha1&quot;</span><span class="nt">&gt;</span>1f92abf3a76be66ae8032257fc7620acbd2b2e3a<span class="nt">&lt;/sdk:checksum&gt;</span>
</span><span class='line'>                <span class="nt">&lt;sdk:url&gt;</span>google_apis-3-r03.zip<span class="nt">&lt;/sdk:url&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/sdk:archive&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/sdk:archives&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sdk:libs&gt;</span>
</span><span class='line'>            <span class="nt">&lt;sdk:lib&gt;</span>
</span><span class='line'>                <span class="nt">&lt;sdk:name&gt;</span>com.google.android.maps<span class="nt">&lt;/sdk:name&gt;</span>
</span><span class='line'>                <span class="nt">&lt;sdk:description&gt;</span>API for Google Maps.<span class="nt">&lt;/sdk:description&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/sdk:lib&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/sdk:libs&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/sdk:add-on&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;sdk:license</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">id=</span><span class="s">&quot;android-sdk-license&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        This is the Android Software Development Kit License Agreement.
</span><span class='line'>    <span class="nt">&lt;/sdk:license&gt;</span>
</span><span class='line'><span class="nt">&lt;/sdk:sdk-repository&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>接下来的事情，就是替换掉里面的 Google 信息为自己，大部分可以从它们的名称中理解其含义，例如 size 是指文件大小，你可以使用 ls –l 来查看文件大小。checksum 则要麻烦一些，执行 sha1sum ZIP.zip，即使用 sha1 对刚才生成 zip 文件生成校验码。</p>




<p>修改完成以后，通过浏览器访问 <code>http://IP-address:port/repository.xml</code>，确认是否 OK。确认以后，打开 Android SDK and AVD Manager，点击左侧 Available Packages，选择 “Add Add-on Sites” 填入 URL，接下来的安装就不费口舌了。完成以后，你可以在 sdk 下的 add-ons 目录下看到刚刚安装的 add-on。</p>




<p>捎带提一下，应用开发方面使用该 add-on 时，调整工程的 Project Build Target 设定即可。</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-04T10:07:00+08:00" pubdate data-updated="true">Jul 4<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/04/mac-os-x-efficiency-improvement-2/">Mac OS X Efficiency Improvement (2)</a></h2>
  
  <p>
    <p>输入特殊符号：</p>




<table>
<thead>
<tr>
<th>描述(Desc)        </th>
<th> 按键（Key）           </th>
<th>符号(Sign)</th>
</tr>
</thead>
<tbody>
<tr>
<td>版权符号:       </td>
<td> Option + G            </td>
<td> ©</td>
</tr>
<tr>
<td>人民币符号:        </td>
<td> Option + Y            </td>
<td> ¥</td>
</tr>
<tr>
<td>商标符号:       </td>
<td> Option + 2            </td>
<td> ™</td>
</tr>
<tr>
<td>已经注册的商标:  </td>
<td> Option + R            </td>
<td> ®</td>
</tr>
<tr>
<td>苹果（Apple）符号 </td>
<td> Option + Shift + K    </td>
<td> </td>
</tr>
<tr>
<td>Command 符号      </td>
<td> ⌘ + ⌥ + t             </td>
<td> 字符集</td>
</tr>
</tbody>
</table>




<p>数学符号：</p>




<table>
<thead>
<tr>
<th>描述(Desc)        </th>
<th>       按键（Key）         </th>
<th> 符号(Sign)</th>
</tr>
</thead>
<tbody>
<tr>
<td>约等于           </td>
<td>Option + X                 </td>
<td>  ≈</td>
</tr>
<tr>
<td>度数              </td>
<td>Shift + Option + 8         </td>
<td>  °</td>
</tr>
<tr>
<td>除号              </td>
<td>Option + /                 </td>
<td>  ÷</td>
</tr>
<tr>
<td>无穷              </td>
<td>Option + 5                 </td>
<td>  ∞</td>
</tr>
<tr>
<td>大于等于            </td>
<td>Option + ,                 </td>
<td>  ≤</td>
</tr>
<tr>
<td>小于等于            </td>
<td>Option + .                 </td>
<td>  ≥</td>
</tr>
<tr>
<td>不等于           </td>
<td>Option + =                 </td>
<td>  ≠</td>
</tr>
<tr>
<td>圆周率           </td>
<td>Option + P                 </td>
<td>  π</td>
</tr>
<tr>
<td>加减              </td>
<td>Shift + Option +           </td>
<td>  ±</td>
</tr>
<tr>
<td>开方              </td>
<td>Option + V                 </td>
<td>  √</td>
</tr>
<tr>
<td>求和符号            </td>
<td>Option + W                 </td>
<td>  ∑</td>
</tr>
</tbody>
</table>




<p>截图：</p>




<table>
<thead>
<tr>
<th>按键（Key）                 </th>
<th>   描述(Desc)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command + Shift + 3         </td>
<td>   截取整个屏幕，并保存图片到桌面</td>
</tr>
<tr>
<td>Command + Shift + 4         </td>
<td>   自定义截图大小，按下 Space 键\n，可以选择窗口截图</td>
</tr>
<tr>
<td>Command + Ctrl + Shift + 3  </td>
<td>   可以将截图保存至剪切板</td>
</tr>
<tr>
<td>Command + Ctrl + Shift + 4  </td>
<td>   同上</td>
</tr>
</tbody>
</table>




<p>全局：</p>




<table>
<thead>
<tr>
<th>按键(Key)                 </th>
<th>  描述(Desc)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command + Tab               </td>
<td> 在应用程序间切换</td>
</tr>
<tr>
<td>Command + `                 </td>
<td> 在应用程序中的窗口间切换</td>
</tr>
<tr>
<td>Ctrl + Tab                  </td>
<td> 同一个应用程序中的页面或工作空间切换</td>
</tr>
<tr>
<td>Ctrl + Shift + Tab          </td>
<td> 同上，反方向</td>
</tr>
<tr>
<td>Ctrl + Shift + power        </td>
<td> 关闭显示器</td>
</tr>
</tbody>
</table>




<p>Sublime Text 2</p>




<table>
<thead>
<tr>
<th>key                      </th>
<th>  function</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Alt+Cmd+N</strong>            </td>
<td> 窗  口  分  成  N  栏</td>
</tr>
<tr>
<td><strong>Cmd+k,b</strong>              </td>
<td> toogle side bar</td>
</tr>
<tr>
<td><strong>Ctrl+Shift+k</strong>         </td>
<td> 删除行</td>
</tr>
<tr>
<td><strong>Ctrl+F</strong>->Alt+Enter    </td>
<td> find ->find all</td>
</tr>
<tr>
<td>Cmd+p                    </td>
<td>  文件定位</td>
</tr>
<tr>
<td>Cmd+;                    </td>
<td>  词语定位 #</td>
</tr>
<tr>
<td>Cmd+r                    </td>
<td>  函数定位 @</td>
</tr>
<tr>
<td>Cmd+g                    </td>
<td>  行号定位 :</td>
</tr>
<tr>
<td>Cmd+Shift+V              </td>
<td>  粘贴并格式化</td>
</tr>
<tr>
<td>Cmd+K+U                  </td>
<td>  大写</td>
</tr>
<tr>
<td>Cmd+K+L                  </td>
<td>  小写</td>
</tr>
</tbody>
</table>




<p>Android Studio</p>




<table>
<thead>
<tr>
<th>key                      </th>
<th>  function</th>
</tr>
</thead>
<tbody>
<tr>
<td>Double Shift             </td>
<td> Search Everywhere</td>
</tr>
<tr>
<td>Cmd Shift O              </td>
<td> Open a File by name</td>
</tr>
<tr>
<td>Cmd + E                  </td>
<td> Recent Files</td>
</tr>
<tr>
<td>Cmd + up                 </td>
<td> Open Navigation Bar</td>
</tr>
<tr>
<td>Cmd + H                  </td>
<td> Hierarchy Class</td>
</tr>
<tr>
<td>Cmd + D                  </td>
<td> 复制选中区域</td>
</tr>
<tr>
<td>Cmd + O                  </td>
<td> 打开 Class</td>
</tr>
<tr>
<td>Cmd + Shift +up/down     </td>
<td> 更换位置</td>
</tr>
<tr>
<td>Cmd + Shift + F          </td>
<td> 全局查找</td>
</tr>
<tr>
<td>Cmd + R                  </td>
<td> 查找替换</td>
</tr>
<tr>
<td>Cmd + Alt + L            </td>
<td> 格式化代码</td>
</tr>
<tr>
<td>Cmd + Shift + U          </td>
<td> 切换大小写</td>
</tr>
<tr>
<td>Alt + Shift + left/right </td>
<td> 选择范围扩大一个 word</td>
</tr>
</tbody>
</table>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-04T00:34:00+08:00" pubdate data-updated="true">Jul 4<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/03/how-use-google-efficiently/">高效的使用Google</a></h2>
  
  <p>
    <p><img src="/images/2014/07/thumb_google.jpeg" alt="" /><br/></p>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-03T18:28:00+08:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2014/07/03/how-use-google-efficiently/">Read on &rarr;</a>
  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/03/learn-english-3/">Learn English (3)</a></h2>
  
  <p>
    <p>很多工作一段时间的人都想通过读 MBA 来开拓自己的职业生涯，做到高级管理层职位。</p>




<ol>
<li><p>MBA (Master Of Business Administration)  工商管理学硕士</p></li>
<li><p>broaden your prospective  拓展你的未来</p></li>
<li><p>case study  案例分析</p></li>
<li><p>networks  人脉</p></li>
<li><p>EMBA (Executive Master Of Business Administration)  高级管理人员工商管理硕士</p></li>
<li><p>soft skill  软能力</p></li>
<li><p>leadership development  领导力发展</p></li>
<li><p>C level  领导层</p></li>
<li><p>alumni  校友会</p></li>
<li><p>deadline  最后期限</p></li>
<li><p>application  申请表</p></li>
</ol>




<hr />




<ul>
<li>alma mater  母校</li>
</ul>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-03T10:29:00+08:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/02/13-best-php-frameworks/">13个最佳php框架</a></h2>
  
  <p>
    <p>创建应用程序是一个复杂且耗时的过程，如果开发者能利用好框架，那么就可以在一个统一的结构基础上通过重用通用组件和模块来快速地做好项目。省掉创建通用组件的时间和人力，软件开发者可以把更多的时间投入到具体的项目上去，这样开发者就能专注于开发高质量的代码。</p>




<p>现在，我们就来介绍 13 个最佳 PHP 框架来帮助开发者建立互操作或灵活的应用。</p>




<ol>
<li><p><a href="http://laravel.com/">Laravel</a></p>

<p> 这是一款简洁、“优雅”的 PHP 开发框架，可谓是为 WEB 艺术家创造的。它可以让开发者从面条一样杂乱的代码中得到解脱，轻松构建一个完美的网络应用程序，且使得每行代码都简洁、富于表达力。Laravel 自带了强大的 Eloquent ORM 和迁移工具，能够完美地与 MySQL、Postgres、SQL Server 和 SQLite 协同工作。Laravel 从开始就将测试作为重点功能，提供灵活的 IoC 容器、集成 PHPUnit 的测试工具。更方便的是 Laravel 适应所有级别的开发工作。</p></li>
<li><p>CodeIgniter</p>

<p> CodeIgniter 是一个基于 MVC 模式、小巧但功能强大的 PHP 框架，作为一个简单而“优雅”的工具包，它可以为 PHP 程序员建立功能完善的 Web 应用程序。如果你是一名使用共享主机，且为客户所要求的期限而烦恼的开发人员，如果你已经厌倦了那些傻大笨粗的框架，那么 CodeIgniter 就是你所需要的。CodeIgniter 几乎 0 配置、不需坚守限制性编码规则、不需使用命令行，并广泛兼容标准主机上的各种 PHP 版本和配置，有着清晰、完善的文档。</p></li>
</ol>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-02T01:08:00+08:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/php/'>php</a>

</div>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2014/07/02/13-best-php-frameworks/">Read on &rarr;</a>
  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/07/01/learn-english-2/">Learn English (2)</a></h2>
  
  <p>
    <p>&lt;潘吉 Jenny 告诉你> , just jot down history!</p>




<h4>1</h4>




<p>球星名字怎么读？&ndash;潘吉 Jenny 告诉你</p>




<p>同学们！世界杯至今大家熬夜看了几场球？</p>




<p>哪个球员是你的男神？你知道你的男神名字的正确发音吗？</p>




<ul>
<li><p>pull an all-nighter  熬夜</p></li>
<li><p>soccer fan  球迷</p></li>
<li><p>World Cup fan  世界杯球迷</p></li>
<li><p>nicknames  昵称，绰号</p></li>
<li><p>Portugal  葡萄牙</p></li>
<li><p>Christiano Ronaldo  克里斯蒂亚诺·罗纳尔多(C 罗)</p></li>
<li><p>Brazilian Portuguese  巴西葡萄牙语</p></li>
<li><p>striker  前锋</p></li>
<li><p>Neymar  内马尔</p></li>
<li><p>Top Scorer List  射手榜</p></li>
<li><p>Luis Suarez  路易斯·苏亚雷斯(苏神)</p></li>
<li><p>He&rsquo;s the one that bites someone.  他就是咬人的那个。</p></li>
<li><p>Uruguay  乌拉圭</p></li>
<li><p>sneaky  偷偷摸摸的</p></li>
<li><p>cheap  赖皮</p></li>
<li><p>Mario Balotelli  马里奥·巴洛特利(巴神)</p></li>
<li><p>stands out  出众的</p></li>
<li><p>Argentina  阿根廷</p></li>
<li><p>Lionel Messi  梅西</p></li>
<li><p>messy  混乱的</p></li>
<li><p>the Netherlands  荷兰</p></li>
<li><p>Arjen Robben  阿尔杨·鲁本</p></li>
<li><p>Robin van Persie  范佩西</p></li>
<li><p>hat-trick  帽子戏法</p></li>
<li><p>Thomas Muller  托马斯·穆勒</p></li>
<li><p>veteran player  老将</p></li>
<li><p>Andrea Pirlo  安德烈亚·皮尔洛</p></li>
<li><p>goalie  门将</p></li>
<li><p>Gianluigi Buffon  吉安路易吉·布冯</p></li>
</ul>




<p> </p>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-07-01T13:23:00+08:00" pubdate data-updated="true">Jul 1<span>st</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2014/07/01/learn-english-2/">Read on &rarr;</a>
  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/28/android-facebook-sdk/">Android:Facebook SDK</a></h2>
  
  <p>
    <p>The following samples are available in the SDK:</p>




<ul>
<li><h3>Basic samples</h3>

<ul>
<li><strong>ProfilePictureSample</strong>: demonstrates non-logged-in usage of the profile picture control</li>
<li><strong>FriendPickerSample</strong>: demonstrates usage of the native friend picker to choose amongst the user&rsquo;s friends</li>
<li><strong>PlacePickerSample</strong>: demonstrates logged-in usage of the place picker control</li>
<li><strong>GraphAPISample</strong>: demonstrates requests to the Graph API</li>
</ul>
</li>
<li><h3>Feature samples</h3>

<ul>
<li><strong>SessionLoginSample</strong>: demonstrates detailed login flow using the SDK</li>
<li><strong>JustRequestSample</strong>: demonstrates logged-in user making single and batched Facebook API requests</li>
<li><strong>SwitchUserSample</strong>: demonstrates an approach to allow switching between multiple users</li>
<li><strong>AdUnitsSample and NativeAdSample</strong>: shows how to load and display ads from Facebook inside your app</li>
</ul>
</li>
<li><h3>Complete samples</h3>

<ul>
<li><strong>HelloFacebookSample</strong>: an all-round sample that demonstrates profile access, status updates and photo uploading</li>
<li><strong>Scrumptious</strong>: demonstrates the use of login, requests, pickers, picture uploads, and Open Graph publishing</li>
<li><strong>RPS</strong>: demonstrates the use of the Native Share Dialog, Open Graph publishing, pickers, invites, and deep linking.</li>
</ul>
</li>
</ul>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>GraphObject
</span><span class='line'>{
</span><span class='line'>  graphObjectClass=GraphUser,
</span><span class='line'>  state={
</span><span class='line'>          &ldquo;id&rdquo;:&ldquo;510224139107412&rdquo;,
</span><span class='line'>          &ldquo;first_name&rdquo;:&ldquo;Song&rdquo;,
</span><span class='line'>          &ldquo;timezone&rdquo;:8,
</span><span class='line'>          &ldquo;verified&rdquo;:true,
</span><span class='line'>          &ldquo;name&rdquo;:&ldquo;Song Zhiyong&rdquo;,
</span><span class='line'>          &ldquo;locale&rdquo;:&ldquo;en_US&rdquo;,
</span><span class='line'>          &ldquo;link&rdquo;:&ldquo;<a href="https://www.facebook.com/app_scoped_user_id/510224139107412/">https://www.facebook.com/app_scoped_user_id/510224139107412/</a>&rdquo;,
</span><span class='line'>          &ldquo;last_name&rdquo;:&ldquo;Zhiyong&rdquo;,
</span><span class='line'>          &ldquo;gender&rdquo;:&ldquo;male&rdquo;,
</span><span class='line'>          &ldquo;updated_time&rdquo;:&ldquo;2014-06-14T12:30:41+0000&rdquo;
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure></p>

<p><unfinished></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-28T18:54:00+08:00" pubdate data-updated="true">Jun 28<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/android/'>android</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/28/learn-english-1/">Learn English (1)</a></h2>
  
  <p>
    <p><img src="/images/2014/06/2014FIFAWorldCuplogo2-FIFA.jpg" title="the world cup" alt="2014 FIFA World Cup Logo" /><br/></p>




<h3>The World Cup</h3>




<ol>
<li><p>the World Cup  世界杯</p></li>
<li><p>Brazil  巴西</p></li>
<li><p>soccer  足球&lt;美>  football  足球</p></li>
<li><p>Who do you think will win the World Cup this year?  你觉得今年世界杯谁会赢？</p></li>
<li><p>It&rsquo;s too early to call, but probably Brazil.  太早了，说不准，但很可能是巴西。</p></li>
<li><p>They are one of the best teams in the world and they are hosting the World Cup.  巴西队是世界最好的球队之一，而且是东道主。</p></li>
<li><p>Who do you root for?  你支持哪队？</p></li>
<li><p>Go Brazil!  巴西加油！</p></li>
<li><p>It&rsquo;s a big deal.  这是重要赛事。</p></li>
<li><p>football  橄榄球</p></li>
<li><p>to catch a game  赶上看一场球</p></li>
<li><p>Sounds like a plan!  好极了！</p></li>
<li><p>Brazil is hosting it.  主办国是巴西。</p></li>
<li><p>Portuguese 葡萄牙语</p></li>
<li><p>Brazilian  巴西语</p></li>
<li><p>Game Matches</p>

<ul>
<li>group stage  小组赛</li>
<li>knock out stage  淘汰赛 You lose, you out</li>
<li>quarter finals  &frac14; 决赛</li>
<li>semi finals  半决赛</li>
<li>the final  总决赛</li>
</ul>
</li>
<li><p>Teams</p>

<ul>
<li>goalie / goal keeper  守门员</li>
<li>defender  后卫</li>
<li>midfielder  中场</li>
<li>forward / striker  前锋</li>
<li>coach  教练</li>
</ul>
</li>
<li><p>Which team do you root for?  你支持哪支球队？</p></li>
<li><p>underdog  黑马</p></li>
<li><p>It&rsquo;s an upset!  爆冷门！</p></li>
<li><p>favorites  夺冠热门</p></li>
<li><p>the home team advantage  主场优势</p></li>
<li><p>Italy  意大利</p></li>
<li><p>jersey  球衣</p></li>
</ol>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-28T12:13:00+08:00" pubdate data-updated="true">Jun 28<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/english/'>english</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/26/mac-os-x-efficiency-improvement-1/">Mac OS X Efficiency Improvement (1)</a></h2>
  
  <p>
    <p>怀念 Windows 系统的 Win+D, Win+R, 或许是自己还没习惯 Mac OS, 还要继续修炼.</p>




<hr />




<p><strong>Command+Option+M</strong></p>




<p>可以实现快速最小化当前应用程序所有窗口的目的。比如你想一下子最小化多个 Finder 窗口，就可以用该快捷键。</p>




<p><strong>Command+H</strong><br></p>




<p>可以实现快速隐藏当前应用程序所有窗口的目的</p>




<p><strong>Command+Option+H</strong><br></p>




<p>可以实现快速隐藏除当前应用程序之外所有程序窗口的目的<br></p>




<p><strong>Command+Option+M+H</strong><br></p>




<p>可以实现快速隐藏所有应用程序窗口的目的(按四个键，表示很不舒服)<br></p>




<hr />




<p>至于「系统偏好设置——通用」中勾选”连按窗口的标题栏以将窗口最小化”，然后双击窗口标题栏就可以最小化当前窗口。
这个就更不好改了，跟 windows 正好相反。<br></p>




<p>Mac 上的 CheatSheet(<a href="http://www.mediaatelier.com/CheatSheet/">http://www.mediaatelier.com/CheatSheet/</a>)还是很好用的。</p>




<p>Practice makes Perfect!</p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-26T23:43:00+08:00" pubdate data-updated="true">Jun 26<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/tricks/'>tricks</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/23/dreamer/">Dreamer</a></h2>
  
  <p>
    <p><img src="/images/2014/06/lost.jpg" title="just-done" alt="" /><br/></p>




<p>Seasons, my friend<br>
Color me, so we can blend<br>
Forbid me to go<br>
I know so little about the wind when it blows<br>
Dreamer, dreamer<br>
Im walking out of your dream<br>
Take me off that parade<br>
And place me somewhere<br>
In your sense of a shades<br>
Your night shuts my door<br>
And I will not dream anymore<br>
See if I can pass by that waiting hand<br>
If I can pass by that wandering man<br>
If I can leave to get on<br>
See that it all makes sense pretty soon<br>
Dreamer, dreamer<br>
Im walking out, while you go on<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
I&rsquo;ll be where I belong<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Im walking out, while you go on<br>
Dreamer, dreamer<br>
But dreamers don&rsquo;t come along<br>
Dreamer, dreamer<br>
I&rsquo;ll be where I belong<br>
Dreamer, dreamer<br>
Stop me if I&rsquo;m wrong<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br>
Dreamer, dreamer<br></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-23T23:47:00+08:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/23/redis-started/">Redis-started</a></h2>
  
  <p>
    <h3>Redis installation</h3>




<h5>1)Download</h5>




<p>Go to the Redis Download page and find the latest stable version. Download it and unpack:</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tar xzf redis-<em>
</span><span class='line'>cd redis-</em></span></code></pre></td></tr></table></div></figure></p>

<h5>2)Compile</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>make
</span><span class='line'>sudo make install clean</span></code></pre></td></tr></table></div></figure></p>

<h5>3)Create config:</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir /etc/redis
</span><span class='line'>cp redis.conf /etc/redis/redis.conf</span></code></pre></td></tr></table></div></figure></p>

<h5>4)Start server &amp; Connect</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>redis-server /etc/redis/redis.conf
</span><span class='line'>
</span><span class='line'>redis-cli</span></code></pre></td></tr></table></div></figure></p>

<h3>PhpRedis Installation</h3>




<h5>1) Preparation</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install php5-dev</span></code></pre></td></tr></table></div></figure></p>

<p>php5-dev provides the dev library as well as the phpize command which is required for the compiling step, if you dont install this package, you would got this error message when you start your step 2:</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>No command &lsquo;phpize&rsquo; found, did you mean:
</span><span class='line'> Command &lsquo;phpize5&rsquo; from package &lsquo;php5-dev&rsquo; (main)
</span><span class='line'>phpize: command not found</span></code></pre></td></tr></table></div></figure></p>

<h5>2) Get phpredis source code, should be pretty easy by running</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/nicolasff/phpredis.git</span></code></pre></td></tr></table></div></figure></p>

<h5>3) Compile and install</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd phpredis
</span><span class='line'>phpize
</span><span class='line'>./configure
</span><span class='line'>make
</span><span class='line'>sudo -s make install</span></code></pre></td></tr></table></div></figure></p>

<h5>4) Enable the phpredis extension</h5>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo &ldquo;extension=redis.so&rdquo;&gt;/etc/php5/conf.d/redis.ini</span></code></pre></td></tr></table></div></figure></p>

<p>for ubuntu PHP5.5, you should create copy this file into</p>


<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/php5/mods-available</span></code></pre></td></tr></table></div></figure></p>

<h5>5) Write a simple php script to test (running on cli would be fine if php5-cli is installed)</h5>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="cp">&lt;?php</span>
</span><span class='line'>        <span class="c1">// phpredis_set.php</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">=</span><span class="k">new</span> <span class="nx">Redis</span><span class="p">()</span> <span class="k">or</span> <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Can&#39;f load redis module.&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span><span class="mi">6379</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>you can check phpredis with command:</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x"> php -r &quot;if (new Redis()==true){echo &amp;quot;Redis is ready!&amp;quot;}&quot;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Prior to try phpredis I was using Rediska as the php redis client. I did some pretty quick and dirty benchmarking comparison and phpredis is clearly a winner here, not surprisingly because phpredis is a compiled extension written in C while Rediska is a pure php library.</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">time for i in <code>seq 1 1000</code>; do php phpredis_set.php; done</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>real 0m13.072s
user 0m6.560s
sys 0m3.620s</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">time for i in <code>seq 1 1000</code>; do php rediska_set.php; done</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>real 0m21.035s
user 0m12.150s
sys 0m5.050s</p>




<p>and the source code for rediska_set.php:</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="cp">&lt;?php</span>
</span><span class='line'>        <span class="k">require_once</span> <span class="s1">&#39;Rediska/library/Rediska.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$rediska</span><span class="o">=</span><span class="k">new</span> <span class="nx">Rediska</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$rediska</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;set_testkey&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p></p>




<h3>Python-Redis installation</h3>




<h5>1)Install</h5>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo pip install redis</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>or</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo easy_install redis</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>or download the source and from source</p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span></span><span class="x">sudo python setup.py install</span>
</span></code></pre></td></tr></table></div></figure></p>

<h5>2)Getting started</h5>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">redis</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</span><span class='line'><span class="kc">True</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</span><span class='line'><span class="s1">&#39;bar&#39;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><--unfinished--></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-23T23:41:00+08:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/redis/'>redis</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/19/good-day-every-day/">Good Day, Every Day</a></h2>
  
  <p>
    <p>Sometimes, we don&rsquo;t need to understand everything. We just need to have a little faith. For everything you have missed, you have gained something else; And for everything you gain, you lose something else. It&rsquo;s about your outlook towards your life. You can either regret or rejoice. But for the rainy and cloudy, we would not enjoy the blue sky and fresh air.<br><br>
<b>Just have a little faith! Then every day would be a good day!</b></p>




<hr><br>




<p><img src="/images/photos/2014-06-07%2013.45.28.jpg" alt="" /><br>
<img src="/images/photos/2014-06-01%2018.54.11.jpg" alt="" /><br></p>




  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-19T21:49:00+08:00" pubdate data-updated="true">Jun 19<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2014/06/19/good-day-every-day/">Read on &rarr;</a>
  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/06/02/i-want-my-tears-back/">I Want My Tears Back</a></h2>
  
  <p>
    <p><img src="/images/2014/06/just-done.jpg" title="just-done" alt="" /><br/></p>




<p>I want my tears back<br/>
我要要回我的眼泪<br/>
The treetops, the chimneys, the snowbed stories, winter grey<br/>
树冠、烟囱、铺满雪的房屋、斑白的冬季<br/>
Wildflowers, those meadows of heaven, wind in the wheat<br/>
野花、那些天堂的草地、麦田里的风<br/>
A railroad across waters, the scent of grandfatherly love<br/>
一条跨越水域的铁路 祖父慈爱的味道<br/>
Blue bayous, Decembers, moon through a dragonfly&rsquo;s wings<br/>
蓝色的海湾 十二月里 月光穿越蜻蜓的翅膀<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where&rsquo;s dear Alice knocking on the door<br/>
那个敲门的爱丽丝在哪里<br/>
Where&rsquo;s the trapdoor that takes me there<br/>
那个带我到那得旋转门在哪里<br/>
Where&rsquo;s the real is shattered by a Mad Marsh Hare<br/>
在那里现实被疯狂的野兔所粉碎<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
I want my tears back<br/>
我要要回我的眼泪<br/>
I want my tears back now<br/>
我现在就要要回我的眼泪<br/>
A ballet on a grove, still growing young all alone<br/>
在段在片草丛上上演的芭蕾舞，仍然独自在变年轻<br/>
A rag doll, a best friend, the voice of Mary Costa<br/>
一个玩具娃娃，一位好友，玛丽·可思塔的声音<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where&rsquo;s dear Alice knocking on the door<br/>
那个敲门的爱丽丝在哪里<br/>
Where&rsquo;s the trapdoor that takes me there<br/>
那个带我到那得旋转门在哪里<br/>
Where&rsquo;s the real is shattered by a Mad Marsh Hare<br/>
在那里现实被疯狂的野兔所粉碎<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
Where is the wonder where&rsquo;s the awe<br/>
那些奇迹 那些惊愕在哪里<br/>
Where are the sleepless nights I used to live for<br/>
那些我曾度过无眠的夜在哪里<br/>
Before the years take me<br/>
在岁月带离我之前<br/>
I wish to see<br/>
我希望能看见<br/>
The lost in me<br/>
迷失了的自己<br/>
I want my tears back<br/>
我要要回我的眼泪<br/>
I want my tears back now<br/>
我现在就要要回我的眼泪<br/></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2014-06-02T23:25:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/life-insights/'>life-insights</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2014/03/15/python-transfer-gps/">Python批量修改火星坐标</a></h2>
  
  <p>
    <p>科普：火星坐标系统&ndash;国家保密插件，也叫做加密插件或者加偏或者 SM 模组，其实就是对真实坐标系统进行人为的加偏处理，按照几行代码的算法，将真实的坐标加密成虚假的坐标，而这个加偏并不是线性的加偏，所以各地的偏移情况都会有所不同。而加密后的坐标也常被人称为火星坐标系统。<br>
API：  <a href="http://api.zdoz.net/interfaces.aspx">http://api.zdoz.net/interfaces.aspx</a><br>
使用方法： 同目录下，from.txt 存放待转换 GPS 数据，经纬度以制表符分隔。<br>
输出：同目录下，生成 done.txt 为转换好的数据。<br></p>


<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span></span><span class="kn">import</span> <span class="nn">httplib</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">json</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">transGps</span><span class="p">(</span><span class="n">origin</span><span class="p">):</span>
</span><span class='line'>    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;api.zdoz.net&quot;</span>
</span><span class='line'>    <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/transgps.aspx?lat=&#39;</span><span class="o">+</span> <span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;&amp;lng=&#39;</span><span class="o">+</span><span class="n">origin</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>    <span class="n">h</span> <span class="o">=</span> <span class="n">httplib</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="n">host</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
</span><span class='line'>    <span class="n">h</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span class='line'>    <span class="n">transfered</span><span class="o">=</span><span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Lat&#39;</span><span class="p">)</span><span class="o">!=</span><span class="kc">None</span> <span class="p">:</span>
</span><span class='line'>        <span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Lat&#39;</span><span class="p">])</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Lng&#39;</span><span class="p">)</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
</span><span class='line'>        <span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Lng&#39;</span><span class="p">])</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">transfered</span>
</span><span class='line'>
</span><span class='line'><span class="n">inputFile</span> <span class="o">=</span> <span class="s1">&#39;from.txt&#39;</span>
</span><span class='line'><span class="n">outputFile</span> <span class="o">=</span> <span class="s1">&#39;done.txt&#39;</span>
</span><span class='line'><span class="n">fin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">inputFile</span><span class="p">,</span> <span class="s1">&#39;rU&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">fout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outputFile</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;lat</span><span class="se">\t</span><span class="s2">lng</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fin</span> <span class="p">:</span>
</span><span class='line'>    <span class="n">transfered</span> <span class="o">=</span> <span class="n">transGps</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">))</span>
</span><span class='line'>    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">print</span> <span class="n">transfered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class='line'>    <span class="nb">print</span> <span class="n">transfered</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s1">&#39;&#39;</span>
</span><span class='line'><span class="n">fin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span class='line'><span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></p>

  </p>
  <span class="meta">
    written 








  


<time datetime="2014-03-15T10:02:00+08:00" pubdate data-updated="true">Mar 15<span>th</span>, 2014</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/python/'>python</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2013/07/06/hello-world/">Hello World!</a></h2>
  
  <p>
    <p><img src="/images/2013/07/hello_world.png" title="helloworld" alt="Hello World" /><br/></p>


  </p>
  <span class="meta">
    written 








  


<time datetime="2013-07-06T09:47:00+08:00" pubdate data-updated="true">Jul 6<span>th</span>, 2013</time>
    

<div class="tags">

	<a class='category' href='/blog/categories/octopress/'>octopress</a>

</div>


  </span>

  
</article>

        </div>
      </div>
      
    </div>
  </div>
</div>
</div>
		</div>
		<footer id="footer" class="inner">Copyright &copy; 2021

    Jerome Song

<br>
京ICP备18059042号 Powered by Octopress. </footer>
		<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'ziso';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fbc6d82df32ac0c05b0381389f892f199' type='text/javascript'%3E%3C/script%3E"));
</script>


	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-52131984-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



	</div>
</body>
</html>
